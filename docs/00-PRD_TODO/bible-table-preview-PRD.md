# Bible 책 명별 테이블 리스트 UI/UX 및 상세페이지/미리보기 PRD
  - 가장 중요한 핵심 요소는 'html 파일의 완벽한 랜더링을 구현한 웹페이지'를 구현.
  - 다크모드로 고급스러운 UI/UX 구현.

## 1. 개요
  - 성경 각 책(예: 창세기) 클릭 시, 해당 책의 장(1~50장 등) 테이블 리스트 페이지로 이동
  - 테이블 리스트 주요 기능:
    * 각 '파일보기'항목 클릭 시, 완벽하게 랜더링된 html 상세페이지로 이동
    * 이후 본 문서 내용에 '완벽하게 랜더링된 html 상세페이지' 문구의 내용을 포함한 용어로
      약칭 '상세페이지' 라 칭함
  - 상세페이지 내 주요 기능: 
    (1) '편집' : 해당 원문 html 소스를 수정할 로직으로 '(좌) 소스편집, (우) 실시간 미리보기'의 구조를 가진 소스편집기 실행, 
    (2) '전체화면' : 기존  상세페이지로 복귀할 수 있는 기능 버튼("X")를 포함하여 화면 전체로 랜더링한 웹페이지 보기 기능 실행.  
    (3) 위로가기 기능 구현

## 2. DB 참조사항
  - 테이블 리스트에 supabase -> table -> 'b_materials' 와 실제 html 파일 buckets 저장소인 'biblefiles'의 파일링크를 매핑하여 저장.
  - 테이블 리스트에서 장별로(오름차순) 관리(상태 표시)
    * 테이블 리스트 최상단 즉 첫번째 항목열 '장' 항목에 '1'(=1장)이 위치하도록 새로운 데이터가
      테이블 리스트에 저장될 때마다 필터링 로직을 구현.
    * DB에는 장 숫자로 1,2,3,4...등 정수로 입력/저장되지만 테이블에 '장' 항목에 보여줄 때는
      '장 숫자 뒤에 텍스트 '장'을 붙여 1장,2장,3장,4장...등으로 보이게 로직을 구현
  
## 3. UI/UX 설계
  - 책명별 테이블 리스트 (Table List) UI 에 import 할 DB
    * supabase - table - 'b_materials'
    * supabase - buckets - 'biblefiles'
  - 테이블 리스트 (Table List) UI 헤더 항목
    * 헤더 : '책명, 장, 파일명, 파일보기, 다운로드, 관리(수정/삭제)'
    * '파일보기, 다운로드, 수정/삭제' 는 lucid icon 사용
    * '파일보기' : '파일보기'를 클릭하면 항목열에 표시된 '파일명' html 파일을 완벽하게 랜더링된 페이지로 이동
    * '수정 : inline edit 로직,  삭제 : '확인 모달'을 거쳐 삭제 실행
  - 테이블 상단 : (왼쪽,왼쪽정렬)실시간 종합 검색 필드 .  (오른쪽,오른쪽정렬) 'HOME' 링크
  - 테이블 하단 : 페이지 네이션(중앙정렬)  .  항목보기 콤보 :(기본)10개, 20개, 30개(오른쪽 정렬)
  - 위로가기 기능 구현
  - 

## 4. 상세페이지 UI
  - HTML 파일을 완벽히 랜더링한 '모달' 웹페이지(가로너비; 1024px, 세로높이: 상/하 스크롤바)구현
  - 상단 : (왼쪽,왼쪽정렬)버튼명:'편집'(lucid icon)
    * 소스편집기로 실시간 데이터 수정 및 저장
    * UI(5:5) 구조 : (왼쪽) html 소스 에디터, (오른쪽): 실시간 미리보기
  - 상단 : (오른쪽,오른쪽정렬)버튼명: '전체보기'(lucid icon)
    * 'X(닫기)'로 테이블 리스트로 복귀

## 5. 추가 UX, 참고사항
  - 반응형/모바일 최적화
  - 기존 DATA/카테고리/파일업로드 구조와 연동
  - Supabase Storage/DB 연동 필요 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# MCP로 Task 정리한 Step by step.

---

## 1. 테이블 리스트 UI 구현
- 책명별 테이블 리스트 페이지 구현 (Supabase b_materials, biblefiles 연동)
- 책명/장/파일명/파일보기/다운로드/관리(수정/삭제)/검색/페이지네이션/항목보기 콤보/위로가기/반응형 등 포함
- 검증 기준: 모든 항목 정상 노출, 기능 동작, 데이터 일치, UX/접근성/반응형

## 2. 상세페이지(HTML 랜더링) 및 편집기 구현
- 테이블 리스트에서 파일보기 클릭 시, 완벽하게 랜더링된 html 상세페이지 모달 구현
- 편집(좌: 소스, 우: 미리보기), 전체보기, 닫기, 스크롤, 반응형 포함
- 검증 기준: html 랜더링, 편집/미리보기/저장, 전체보기/닫기/반응형/UX

## 3. Supabase 연동 및 CRUD/다운로드/삭제/수정 로직 구현
- b_materials, biblefiles Storage와 CRUD 연동, 파일/메타데이터 매핑, 삭제/다운로드/업로드/수정
- 검증 기준: CRUD/다운로드/삭제/수정 정상 동작, 데이터 일치, 타입 안정성, 테스트 통과

## 4. 공통 컴포넌트/유틸/훅 추출 및 재사용성 강화
- 모달, 토스트, 검색, 페이지네이션 등 중복 로직/컴포넌트 공통화 및 src/components, src/utils 등 분리
- 검증 기준: 중복 최소화, 공통 컴포넌트/유틸/훅 재사용, 기존 코드와 통합

## 5. UX/접근성/성능 최적화 및 테스트
- 모달/토스트/다크모드/반응형/접근성/성능 등 UX 및 품질 최적화, ESLint/Prettier/타입스크립트 규칙 준수, 테스트 반복
- 검증 기준: UX/접근성/성능 최적화, 규칙 준수, 테스트/검증 반복, 모든 기능 정상 동작

---

각 Task는 선행/후행 의존성을 고려해 순차적으로 개발하며, 기존 코드/구조/패턴과 완벽히 통합되도록 설계 및 구현합니다.

