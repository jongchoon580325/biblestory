# üìã 02-ÏÑ±Í≤ΩÏùΩÍ∏∞-PRD.md

## üéØ **Î¨∏ÏÑú Í∞úÏöî**

### **Î¨∏ÏÑúÎ™Ö**: ÏÑ±Í≤ΩÏùΩÍ∏∞ ÌéòÏù¥ÏßÄ ÏÉÅÏÑ∏ ÏÑ§Í≥ÑÏÑú
### **Î≤ÑÏ†Ñ**: v2.0.0
### **ÏûëÏÑ±Ïùº**: 2025.07.08
### **ÏµúÏ¢Ö ÏàòÏ†ïÏùº**: 2025.07.18

---

## üîç **ÌòÑÏû¨ ÌîÑÎ°úÏ†ùÌä∏ ÌôòÍ≤Ω Î∂ÑÏÑù Î∞è Ï†ÅÏö© Í∞ÄÎä•ÏÑ±**

### **Í∏∞Ïà† Ïä§ÌÉù Ìò∏ÌôòÏÑ± ÌèâÍ∞Ä** ‚úÖ
- **Next.js 15**: PRD ÏöîÍµ¨ÏÇ¨Ìï≠Í≥º ÏôÑÎ≤Ω Ìò∏Ìôò
- **React 19**: ÏµúÏã† Í∏∞Îä• ÌôúÏö© Í∞ÄÎä•
- **TypeScript**: ÌÉÄÏûÖ ÏïàÏ†ïÏÑ± ÌôïÎ≥¥
- **Tailwind CSS**: Î∞òÏùëÌòï ÎîîÏûêÏù∏ Íµ¨ÌòÑ Í∞ÄÎä•
- **Supabase**: Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Î∞è Ïù∏Ï¶ù ÏãúÏä§ÌÖú ÏôÑÎ≤Ω ÏßÄÏõê
- **Zustand**: Î≥µÏû°Ìïú ÏÉÅÌÉú Í¥ÄÎ¶¨ ÏöîÍµ¨ÏÇ¨Ìï≠ Ï∂©Ï°±
- **Shadcn/UI**: Í≥†Í∏â UI Ïª¥Ìè¨ÎÑåÌä∏ ÎùºÏù¥Î∏åÎü¨Î¶¨ Ï†ÅÏö©

### **ÎèÖÎ¶ΩÏ†Å Îç∞Ïù¥ÌÑ∞ Î™®Îç∏ ÏÑ§Í≥Ñ** ‚úÖ
- **Í∏∞Ï°¥ `bibleMapping.ts`ÏôÄ ÏôÑÏ†Ñ Î∂ÑÎ¶¨**: PRDÏùò `BibleBook` Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ ÎèÖÎ¶Ω Íµ¨ÌòÑ
- **ÏÉàÎ°úÏö¥ Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞**: `id`, `nameEnglish`, `abbreviation` Îì± PRD ÏöîÍµ¨ÏÇ¨Ìï≠ Í∑∏ÎåÄÎ°ú Ï†ÅÏö©
- **ÌÉÄÏûÖ ÏïàÏ†ïÏÑ±**: TypeScript Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î°ú ÏôÑÏ†ÑÌïú ÌÉÄÏûÖ Ï≤¥ÌÅ¨

### **ÎèÖÎ¶ΩÏ†Å Supabase ÌÖåÏù¥Î∏î Íµ¨Ï°∞** ‚úÖ
- **Ïã†Í∑ú ÌÖåÏù¥Î∏î ÏÉùÏÑ±**: `b_bible_contents`, `b_reading_progress` ÎèÖÎ¶Ω Íµ¨ÌòÑ
- **Í∏∞Ï°¥ ÌÖåÏù¥Î∏îÍ≥º Î∂ÑÎ¶¨**: `b_materials`, `b_categories`ÏôÄ ÏôÑÏ†Ñ ÎèÖÎ¶Ω Ïö¥ÏòÅ
- **Îç∞Ïù¥ÌÑ∞ Î¨¥Í≤∞ÏÑ±**: ÏÑ±Í≤ΩÏùΩÍ∏∞ Ï†ÑÏö© Îç∞Ïù¥ÌÑ∞ Î™®Îç∏Î°ú ÏùºÍ¥ÄÏÑ± ÌôïÎ≥¥

### **UI Ïª¥Ìè¨ÎÑåÌä∏ ÎùºÏù¥Î∏åÎü¨Î¶¨** ‚úÖ
- **shadcn/ui Ï†ÅÏö©**: Modal, Button, Select Îì± Í≥†Í∏â Ïª¥Ìè¨ÎÑåÌä∏ Íµ¨ÌòÑ
- **ÏùºÍ¥ÄÎêú ÎîîÏûêÏù∏ ÏãúÏä§ÌÖú**: Tailwind CSSÏôÄ ÏôÑÎ≤Ω ÌÜµÌï©
- **Ï†ëÍ∑ºÏÑ± Ï§ÄÏàò**: ARIA Î†àÏù¥Î∏î Î∞è ÌÇ§Î≥¥Îìú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏßÄÏõê

### **ÎèÖÎ¶ΩÏ†Å FileUpload Ïª¥Ìè¨ÎÑåÌä∏** ‚úÖ
- **READ ÌéòÏù¥ÏßÄ Ï†ÑÏö©**: Í∏∞Ï°¥ FileUploadÏôÄ Î≥ÑÍ∞úÎ°ú Ïã†Í∑ú Íµ¨ÌòÑ
- **ÏÑ±Í≤ΩÏùΩÍ∏∞ ÌäπÌôî**: ÏÑ±Í≤Ω ÏΩòÌÖêÏ∏† ÏóÖÎ°úÎìúÏóê ÏµúÏ†ÅÌôîÎêú Í∏∞Îä•
- **ÏÇ¨Ïö©Ïûê Í≤ΩÌóò**: ÏßÅÍ¥ÄÏ†ÅÏù¥Í≥† Ìö®Ïú®Ï†ÅÏù∏ ÏóÖÎ°úÎìú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§

### **ÎèôÏ†Å ÎùºÏö∞ÌåÖ Íµ¨Ï°∞** ‚úÖ
- **Next.js App Router**: `/read/[book]/[chapter]` ÎèôÏ†Å ÎùºÏö∞ÌåÖ Íµ¨ÌòÑ
- **SEO ÏµúÏ†ÅÌôî**: Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Î∞è Íµ¨Ï°∞ÌôîÎêú Îç∞Ïù¥ÌÑ∞ ÏßÄÏõê
- **ÏÑ±Îä• ÏµúÏ†ÅÌôî**: ÏûêÎèô ÏΩîÎìú Ïä§ÌîåÎ¶¨ÌåÖ Î∞è ÏßÄÏó∞ Î°úÎî©

### **ÏôÑÏ†Ñ ÎèÖÎ¶ΩÏ†Å ÏãúÏä§ÌÖú** ‚úÖ
- **Î™®ÎìàÌôî ÏÑ§Í≥Ñ**: Í∏∞Ï°¥ ÌîÑÎ°úÏ†ùÌä∏ÏôÄ ÏôÑÏ†Ñ Î∂ÑÎ¶¨
- **ÌôïÏû•ÏÑ±**: Ìñ•ÌõÑ Í∏∞Îä• Ï∂îÍ∞Ä Î∞è ÏàòÏ†ï Ïö©Ïù¥
- **Ïú†ÏßÄÎ≥¥ÏàòÏÑ±**: Î™ÖÌôïÌïú Ï±ÖÏûÑ Î∂ÑÎ¶¨ Î∞è ÏùòÏ°¥ÏÑ± Í¥ÄÎ¶¨

---

## üìö **Í∏∞Îä• Í∞úÏöî**

> **"Î™∞ÏûÖÌòï ÏÑ±Í≤Ω ÏùΩÍ∏∞ Í≤ΩÌóòÏùÑ Ï†úÍ≥µÌïòÎäî Ï∞®ÏÑ∏ÎåÄ ÎîîÏßÄÌÑ∏ ÏÑ±Í≤Ω ÌîåÎû´ÌèºÏùò ÌïµÏã¨ MVP"**

### **ÌïµÏã¨ Í∞ÄÏπò Ï†úÏïà**
- **Progressive Reading**: Íµ¨ÏïΩ/Ïã†ÏïΩ‚ÜíÏ±Ö‚ÜíÏû• Îã®Í≥ÑÎ≥Ñ ÏÑ†ÌÉùÏúºÎ°ú ÏûêÏó∞Ïä§Îü¨Ïö¥ ÏùΩÍ∏∞ ÌùêÎ¶Ñ
- **Multi-Modal Experience**: ÏùΩÍ∏∞ÏôÄ Îì£Í∏∞Î•º ÏôÑÎ≤ΩÌïòÍ≤å ÌÜµÌï©Ìïú TTS Í≤ΩÌóò
- **Simple & Focused**: ÌïµÏã¨ Í∏∞Îä•Ïóê ÏßëÏ§ëÌïú ÏßÅÍ¥ÄÏ†ÅÏù¥Í≥† Îπ†Î•∏ ÏÑ±Í≤Ω ÏùΩÍ∏∞
- **HTML Rendering**: ÏóÖÎ°úÎìúÎêú HTML ÌååÏùº ÏÜåÏä§Ïùò ÏôÑÎ≤ΩÌïú Î†åÎçîÎßÅ
- **Real-time Highlight**: TTS Ïû¨ÏÉù Ï§ë ÌòÑÏû¨ ÏùΩÎäî Ï†àÏùò Ïã§ÏãúÍ∞Ñ ÌïòÏù¥ÎùºÏù¥Ìä∏

---

## üèóÔ∏è **ÎèÖÎ¶ΩÏ†Å Îç∞Ïù¥ÌÑ∞ Î™®Îç∏ ÏÑ§Í≥Ñ**

### **ÎèÖÎ¶ΩÏ†Å BibleBook Ïù∏ÌÑ∞ÌéòÏù¥Ïä§**
```typescript
// types/bible-reading.ts
export interface BibleBook {
  id: string;
  name: string;
  nameEnglish: string;
  abbreviation: string;
  totalChapters: number;
  category: 'old-testament' | 'new-testament';
  completedChapters: number;
  currentChapter?: number;
  order: number;
  createdAt: Date;
  updatedAt: Date;
}

export interface BibleChapter {
  id: string;
  bookId: string;
  chapterNumber: number;
  title: string;
  subtitle?: string;
  estimatedReadingTime: number;
  wordCount: number;
  verses: BibleVerse[];
  status: 'draft' | 'published' | 'archived';
  createdAt: Date;
  updatedAt: Date;
}

export interface BibleVerse {
  id: string;
  chapterId: string;
  number: number;
  text: string;
  reference: string;
  isHighlighted?: boolean;
  highlightType?: 'personal' | 'community' | 'study';
  notes?: string[];
  createdAt: Date;
  updatedAt: Date;
}

export interface ReadingProgress {
  id: string;
  userId: string;
  bookId: string;
  chapterNumber: number;
  readingCompleted: boolean;
  listeningCompleted: boolean;
  readingDuration: number;
  listeningDuration: number;
  completionPercentage: number;
  scrollProgress: number;
  versesRead: number[];
  lastReadAt: Date;
  completedAt?: Date;
  createdAt: Date;
  updatedAt: Date;
}

export interface UserHighlight {
  id: string;
  userId: string;
  verseId: string;
  type: 'personal' | 'community' | 'study';
  color?: string;
  note?: string;
  createdAt: Date;
  updatedAt: Date;
}
```

### **ÎèÖÎ¶ΩÏ†Å Supabase ÌÖåÏù¥Î∏î Ïä§ÌÇ§Îßà**
```sql
-- ÏÑ±Í≤Ω Ï±Ö Ï†ïÎ≥¥ ÌÖåÏù¥Î∏î
CREATE TABLE rb_bible_books (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(50) NOT NULL,
  name_english VARCHAR(50) NOT NULL,
  abbreviation VARCHAR(10) NOT NULL,
  total_chapters INTEGER NOT NULL,
  category VARCHAR(20) NOT NULL CHECK (category IN ('old-testament', 'new-testament')),
  order_number INTEGER NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ÏÑ±Í≤Ω Ïû• Ï†ïÎ≥¥ ÌÖåÏù¥Î∏î
CREATE TABLE rb_bible_chapters (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  book_id UUID REFERENCES rb_bible_books(id) ON DELETE CASCADE,
  chapter_number INTEGER NOT NULL,
  title VARCHAR(200) NOT NULL,
  subtitle VARCHAR(200),
  estimated_reading_time INTEGER DEFAULT 0,
  word_count INTEGER DEFAULT 0,
  html_content TEXT,
  status VARCHAR(20) DEFAULT 'draft' CHECK (status IN ('draft', 'published', 'archived')),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(book_id, chapter_number)
);

-- ÏÑ±Í≤Ω Íµ¨Ï†à Ï†ïÎ≥¥ ÌÖåÏù¥Î∏î
CREATE TABLE rb_bible_verses (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  chapter_id UUID REFERENCES rb_bible_chapters(id) ON DELETE CASCADE,
  verse_number INTEGER NOT NULL,
  text TEXT NOT NULL,
  reference VARCHAR(50) NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(chapter_id, verse_number)
);

-- ÏùΩÍ∏∞ ÏßÑÎèÑ Ï∂îÏ†Å ÌÖåÏù¥Î∏î
CREATE TABLE rb_reading_progress (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  book_id UUID REFERENCES rb_bible_books(id) ON DELETE CASCADE,
  chapter_number INTEGER NOT NULL,
  reading_completed BOOLEAN DEFAULT FALSE,
  listening_completed BOOLEAN DEFAULT FALSE,
  reading_duration INTEGER DEFAULT 0,
  listening_duration INTEGER DEFAULT 0,
  completion_percentage DECIMAL(5,2) DEFAULT 0,
  scroll_progress DECIMAL(5,2) DEFAULT 0,
  verses_read INTEGER[] DEFAULT '{}',
  last_read_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  completed_at TIMESTAMP WITH TIME ZONE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(user_id, book_id, chapter_number)
);

-- ÏÇ¨Ïö©Ïûê ÌïòÏù¥ÎùºÏù¥Ìä∏ ÌÖåÏù¥Î∏î
CREATE TABLE rb_user_highlights (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  verse_id UUID REFERENCES rb_bible_verses(id) ON DELETE CASCADE,
  type VARCHAR(20) NOT NULL CHECK (type IN ('personal', 'community', 'study')),
  color VARCHAR(7),
  note TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Ïù∏Îç±Ïä§ ÏÉùÏÑ±
CREATE INDEX idx_rb_bible_books_category ON rb_bible_books(category);
CREATE INDEX idx_rb_bible_chapters_book_id ON rb_bible_chapters(book_id);
CREATE INDEX idx_rb_bible_verses_chapter_id ON rb_bible_verses(chapter_id);
CREATE INDEX idx_rb_reading_progress_user_book ON rb_reading_progress(user_id, book_id);
CREATE INDEX idx_rb_user_highlights_user_verse ON rb_user_highlights(user_id, verse_id);

-- RLS (Row Level Security) Ï†ïÏ±Ö
ALTER TABLE rb_bible_books ENABLE ROW LEVEL SECURITY;
ALTER TABLE rb_bible_chapters ENABLE ROW LEVEL SECURITY;
ALTER TABLE rb_bible_verses ENABLE ROW LEVEL SECURITY;
ALTER TABLE rb_reading_progress ENABLE ROW LEVEL SECURITY;
ALTER TABLE rb_user_highlights ENABLE ROW LEVEL SECURITY;

-- Í≥µÍ∞ú ÏùΩÍ∏∞ Ï†ïÏ±Ö (ÏÑ±Í≤Ω ÎÇ¥Ïö©ÏùÄ Î™®Îì† ÏÇ¨Ïö©ÏûêÍ∞Ä ÏùΩÍ∏∞ Í∞ÄÎä•)
CREATE POLICY "Public read access" ON rb_bible_books FOR SELECT USING (true);
CREATE POLICY "Public read access" ON rb_bible_chapters FOR SELECT USING (true);
CREATE POLICY "Public read access" ON rb_bible_verses FOR SELECT USING (true);

-- ÏÇ¨Ïö©ÏûêÎ≥Ñ ÏùΩÍ∏∞/Ïì∞Í∏∞ Ï†ïÏ±Ö (ÏßÑÎèÑ Î∞è ÌïòÏù¥ÎùºÏù¥Ìä∏Îäî Î≥∏Ïù∏Îßå)
CREATE POLICY "User read/write access" ON rb_reading_progress 
  FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "User read/write access" ON rb_user_highlights 
  FOR ALL USING (auth.uid() = user_id);
```

---

## üìÅ **ÎèÖÎ¶ΩÏ†Å FileUpload Ïª¥Ìè¨ÎÑåÌä∏ ÏÑ§Í≥Ñ**

### **READ ÌéòÏù¥ÏßÄ Ï†ÑÏö© FileUpload Ïù∏ÌÑ∞ÌéòÏù¥Ïä§**
```typescript
// components/features/bible-reading/BibleFileUpload.tsx
interface BibleFileUploadProps {
  onUploadComplete: (fileData: BibleFileData) => void;
  onUploadError: (error: string) => void;
  maxFileSize?: number; // Í∏∞Î≥∏Í∞í: 10MB
  allowedFormats?: string[]; // Í∏∞Î≥∏Í∞í: ['html', 'htm']
}

interface BibleFileData {
  id: string;
  fileName: string;
  fileSize: number;
  uploadDate: Date;
  bookId: string;
  chapterNumber: number;
  content: string;
  metadata: {
    title: string;
    subtitle?: string;
    estimatedReadingTime: number;
    wordCount: number;
  };
}

const BibleFileUpload: React.FC<BibleFileUploadProps> = ({
  onUploadComplete,
  onUploadError,
  maxFileSize = 10 * 1024 * 1024, // 10MB
  allowedFormats = ['html', 'htm']
}) => {
  const [selectedFile, setSelectedFile] = useState<File | null>(null);
  const [uploadProgress, setUploadProgress] = useState(0);
  const [isUploading, setIsUploading] = useState(false);
  const [previewContent, setPreviewContent] = useState<string>('');
  const [validationErrors, setValidationErrors] = useState<string[]>([]);

  // ÌååÏùº Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨
  const validateFile = (file: File): string[] => {
    const errors: string[] = [];
    
    // ÌååÏùº ÌÅ¨Í∏∞ Í≤ÄÏÇ¨
    if (file.size > maxFileSize) {
      errors.push(`ÌååÏùº ÌÅ¨Í∏∞Í∞Ä ${maxFileSize / (1024 * 1024)}MBÎ•º Ï¥àÍ≥ºÌï©ÎãàÎã§.`);
    }
    
    // ÌååÏùº ÌòïÏãù Í≤ÄÏÇ¨
    const fileExtension = file.name.split('.').pop()?.toLowerCase();
    if (!fileExtension || !allowedFormats.includes(fileExtension)) {
      errors.push(`ÏßÄÏõêÌïòÏßÄ ÏïäÎäî ÌååÏùº ÌòïÏãùÏûÖÎãàÎã§. (${allowedFormats.join(', ')})`);
    }
    
    // ÌååÏùºÎ™Ö ÌòïÏãù Í≤ÄÏÇ¨ (Ïòà: 01-genesis-01.html)
    const fileNamePattern = /^(\d+)-[a-z]+-\d+\.html$/i;
    if (!fileNamePattern.test(file.name)) {
      errors.push('ÌååÏùºÎ™Ö ÌòïÏãùÏù¥ Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§. (Ïòà: 01-genesis-01.html)');
    }
    
    // Ï†ëÎëêÏÇ¨ÏôÄ Ïû• Î≤àÌò∏ ÏùºÏπò Í≤ÄÏ¶ù
    const match = file.name.match(/^(\d+)-[a-z]+-(\d+)\.html$/i);
    if (match) {
      const [, prefixNumber, chapterNumber] = match;
      if (parseInt(prefixNumber) !== parseInt(chapterNumber)) {
        errors.push(`ÌååÏùºÎ™Ö Ï†ëÎëêÏÇ¨(${prefixNumber})ÏôÄ Ïû• Î≤àÌò∏(${chapterNumber})Í∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.`);
      }
    }
    
    return errors;
  };

  // ÌååÏùº ÎÇ¥Ïö© ÎØ∏Î¶¨Î≥¥Í∏∞
  const handleFileSelect = async (file: File) => {
    const errors = validateFile(file);
    setValidationErrors(errors);
    
    if (errors.length > 0) {
      setSelectedFile(null);
      setPreviewContent('');
      return;
    }
    
    setSelectedFile(file);
    
    try {
      const content = await file.text();
      setPreviewContent(content);
      
      // HTML ÌååÏã± Î∞è Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú
      const parser = new DOMParser();
      const doc = parser.parseFromString(content, 'text/html');
      
      // Ï†úÎ™© Ï∂îÏ∂ú
      const title = doc.querySelector('h1, h2, .title')?.textContent || '';
      const subtitle = doc.querySelector('h3, h4, .subtitle')?.textContent || '';
      
      // Îã®Ïñ¥ Ïàò Í≥ÑÏÇ∞
      const textContent = doc.body?.textContent || '';
      const wordCount = textContent.trim().split(/\s+/).length;
      
      // ÏòàÏÉÅ ÏùΩÍ∏∞ ÏãúÍ∞Ñ Í≥ÑÏÇ∞ (ÌèâÍ∑† 200Îã®Ïñ¥/Î∂Ñ)
      const estimatedReadingTime = Math.ceil(wordCount / 200);
      
      console.log('ÌååÏùº Î©îÌÉÄÎç∞Ïù¥ÌÑ∞:', {
        title,
        subtitle,
        wordCount,
        estimatedReadingTime
      });
      
    } catch (error) {
      setValidationErrors(['ÌååÏùº ÎÇ¥Ïö©ÏùÑ ÏùΩÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.']);
    }
  };

  // ÌååÏùº ÏóÖÎ°úÎìú Ï≤òÎ¶¨
  const handleUpload = async () => {
    if (!selectedFile) return;
    
    setIsUploading(true);
    setUploadProgress(0);
    
    try {
      // ÌååÏùºÎ™ÖÏóêÏÑú Ï±ÖÎ™ÖÍ≥º Ïû• Î≤àÌò∏ Ï∂îÏ∂ú
      const fileNameMatch = selectedFile.name.match(/^(\d+)-([a-z]+)-(\d+)\.html$/i);
      if (!fileNameMatch) {
        throw new Error('ÌååÏùºÎ™Ö ÌòïÏãùÏù¥ Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§.');
      }
      
      const [, prefixNumber, bookName, chapterStr] = fileNameMatch;
      const chapterNumber = parseInt(chapterStr);
      
      // Ï†ëÎëêÏÇ¨ÏôÄ Ïû• Î≤àÌò∏ ÏùºÏπò Í≤ÄÏ¶ù
      if (parseInt(prefixNumber) !== chapterNumber) {
        throw new Error(`ÌååÏùºÎ™Ö Ï†ëÎëêÏÇ¨(${prefixNumber})ÏôÄ Ïû• Î≤àÌò∏(${chapterNumber})Í∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.`);
      }
      
      // Supabase StorageÏóê ÏóÖÎ°úÎìú
      const filePath = `bible-content/${bookName}/${selectedFile.name}`;
      const { data: uploadData, error: uploadError } = await supabase.storage
        .from('biblefiles')
        .upload(filePath, selectedFile, {
          onUploadProgress: (progress) => {
            setUploadProgress((progress.loaded / progress.total) * 100);
          }
        });
      
      if (uploadError) throw uploadError;
      
      // Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ï†ÄÏû•
      const content = await selectedFile.text();
      const parser = new DOMParser();
      const doc = parser.parseFromString(content, 'text/html');
      
      const fileData: BibleFileData = {
        id: uploadData.path,
        fileName: selectedFile.name,
        fileSize: selectedFile.size,
        uploadDate: new Date(),
        bookId: bookName,
        chapterNumber,
        content,
        metadata: {
          title: doc.querySelector('h1, h2, .title')?.textContent || '',
          subtitle: doc.querySelector('h3, h4, .subtitle')?.textContent || '',
          estimatedReadingTime: Math.ceil((doc.body?.textContent || '').trim().split(/\s+/).length / 200),
          wordCount: (doc.body?.textContent || '').trim().split(/\s+/).length
        }
      };
      
      onUploadComplete(fileData);
      
    } catch (error) {
      onUploadError(error instanceof Error ? error.message : 'ÏóÖÎ°úÎìú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.');
    } finally {
      setIsUploading(false);
      setUploadProgress(0);
    }
  };

  return (
    <div className="bible-file-upload">
      <div className="upload-area">
        <input
          type="file"
          accept=".html,.htm"
          onChange={(e) => e.target.files?.[0] && handleFileSelect(e.target.files[0])}
          className="file-input"
          disabled={isUploading}
        />
        
        {selectedFile && (
          <div className="file-info">
            <h4>ÏÑ†ÌÉùÎêú ÌååÏùº: {selectedFile.name}</h4>
            <p>ÌÅ¨Í∏∞: {(selectedFile.size / 1024).toFixed(2)} KB</p>
            
            {validationErrors.length > 0 && (
              <div className="validation-errors">
                {validationErrors.map((error, index) => (
                  <p key={index} className="error-text">{error}</p>
                ))}
              </div>
            )}
            
            {previewContent && (
              <div className="content-preview">
                <h5>ÎÇ¥Ïö© ÎØ∏Î¶¨Î≥¥Í∏∞</h5>
                <div 
                  className="preview-content"
                  dangerouslySetInnerHTML={{ __html: previewContent.substring(0, 500) + '...' }}
                />
              </div>
            )}
            
            <button
              onClick={handleUpload}
              disabled={isUploading || validationErrors.length > 0}
              className="upload-btn"
            >
              {isUploading ? 'ÏóÖÎ°úÎìú Ï§ë...' : 'ÏóÖÎ°úÎìú'}
            </button>
            
            {isUploading && (
              <div className="upload-progress">
                <div 
                  className="progress-bar"
                  style={{ width: `${uploadProgress}%` }}
                />
                <span>{Math.round(uploadProgress)}%</span>
              </div>
            )}
          </div>
        )}
      </div>
    </div>
  );
};
```

### **ÎèÖÎ¶ΩÏ†Å FileUpload Ïä§ÌÉÄÏùºÎßÅ**
```css
/* components/features/bible-reading/BibleFileUpload.css */
.bible-file-upload {
  @apply w-full max-w-2xl mx-auto p-6 bg-slate-800/30 backdrop-blur-sm rounded-2xl border border-slate-700/50;
}

.upload-area {
  @apply space-y-4;
}

.file-input {
  @apply w-full p-4 border-2 border-dashed border-slate-600 rounded-lg text-center cursor-pointer transition-colors hover:border-blue-500 focus:border-blue-500 focus:outline-none;
}

.file-info {
  @apply space-y-4 p-4 bg-slate-700/30 rounded-lg;
}

.validation-errors {
  @apply space-y-1;
}

.error-text {
  @apply text-red-400 text-sm;
}

.content-preview {
  @apply space-y-2;
}

.preview-content {
  @apply max-h-40 overflow-y-auto p-3 bg-slate-900/50 rounded text-sm text-slate-300;
}

.upload-btn {
  @apply w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
}

.upload-progress {
  @apply space-y-2;
}

.progress-bar {
  @apply h-2 bg-slate-600 rounded-full overflow-hidden;
}

.progress-bar > div {
  @apply h-full bg-blue-500 transition-all duration-300;
}
```

---

## üèóÔ∏è **ÌéòÏù¥ÏßÄ ÏïÑÌÇ§ÌÖçÏ≤ò**

### **ÏµúÏ¢Ö Íµ¨ÌòÑ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏**

#### **1. ÌïµÏã¨ Í∏∞Îä• Íµ¨ÌòÑ**
- [ ] **ÏôºÏ™Ω ÏÇ¨Ïù¥ÎìúÎ∞î**: Íµ¨ÏïΩ/Ïã†ÏïΩ ÌÉ≠, Ï±Ö Î™©Î°ù, Ïû• Î™©Î°ù
- [ ] **ÏÉÅÎã® Ìó§Îçî**: ÏÑ†ÌÉùÎêú Ï±ÖÎ™ÖÍ≥º Ïû• Ïà´Ïûê ÌëúÏãú
- [ ] **Ï§ëÏïô Î≥∏Î¨∏**: HTML ÌååÏùº ÏÜåÏä§ ÏôÑÎ≤Ω Î†åÎçîÎßÅ
- [ ] **ÌïòÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò**: Ïù¥Ï†Ñ/Îã§Ïùå Ïû• Î≤ÑÌäº
- [ ] **TTS Í∏∞Îä•**: ÏÑ±Í≤Ω Î≥∏Î¨∏ ÏùΩÍ∏∞ ÏΩòÌä∏Î°§
- [ ] **ÌïòÏù¥ÎùºÏù¥Ìä∏**: ÌòÑÏû¨ ÏùΩÎäî Ï†à Ïã§ÏãúÍ∞Ñ ÌïòÏù¥ÎùºÏù¥Ìä∏

#### **2. ÏÇ≠Ï†úÎêú Î∂ÄÏàò Í∏∞Îä•**
- ‚ùå ÏùΩÍ∏∞ Î™®Îìú (Í∏∞Î≥∏/ÏßëÏ§ë/ÏïºÍ∞Ñ)
- ‚ùå ÏßÑÌñâÎ•† ÌëúÏãú
- ‚ùå Í∞úÏù∏/Ïª§ÎÆ§ÎãàÌã∞ ÌïòÏù¥ÎùºÏù¥Ìä∏
- ‚ùå Ï±ÖÍ∞àÌîº Í∏∞Îä•
- ‚ùå Î≥µÏû°Ìïú Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ ÌëúÏãú
- ‚ùå Íµ¨Ï†àÎ≥Ñ Í∞úÎ≥Ñ TTS Î≤ÑÌäº
- ‚ùå ÌïòÎã® Î≥µÏû°Ìïú Ïª®Ìä∏Î°§

#### **3. Í∏∞Ïà†Ï†Å ÏöîÍµ¨ÏÇ¨Ìï≠**
- [ ] HTML ÌååÏùº ÏóÖÎ°úÎìú Î∞è Ï†ÄÏû• ÏãúÏä§ÌÖú
- [ ] HTML ÏΩòÌÖêÏ∏† Î†åÎçîÎßÅ (`dangerouslySetInnerHTML`)
- [ ] Web Speech APIÎ•º ÌôúÏö©Ìïú TTS Íµ¨ÌòÑ
- [ ] Íµ¨Ï†àÎ≥Ñ ÌïòÏù¥ÎùºÏù¥Ìä∏ CSS Ïä§ÌÉÄÏùºÎßÅ
- [ ] Ïû• ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò API Íµ¨ÌòÑ
- [ ] Î∞òÏùëÌòï Î†àÏù¥ÏïÑÏõÉ (Îç∞Ïä§ÌÅ¨ÌÜ±/ÌÉúÎ∏îÎ¶ø/Î™®Î∞îÏùº)

#### **4. ÏÇ¨Ïö©Ïûê Í≤ΩÌóò**
- [ ] ÏßÅÍ¥ÄÏ†ÅÏù¥Í≥† Îπ†Î•∏ ÏÑ±Í≤Ω ÏùΩÍ∏∞
- [ ] TTS Ïû¨ÏÉù Ï§ë ÌòÑÏû¨ Íµ¨Ï†à ÏãúÍ∞ÅÏ†Å ÌëúÏãú
- [ ] Í∞ÑÎã®Ìïú Ïû• Ïù¥Îèô ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
- [ ] ÏÇ¨Ïù¥ÎìúÎ∞îÎ•º ÌÜµÌïú Îπ†Î•∏ Ï±Ö/Ïû• ÏÑ†ÌÉù

### **Ï†ÑÏ≤¥ Î†àÏù¥ÏïÑÏõÉ Íµ¨Ï°∞**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò (Í∏∞Ï°¥)                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                 ‚îÇ                                       ‚îÇ
‚îÇ   ÏÑ±Í≤Ω ÏÑ†ÌÉù     ‚îÇ            Ï∞ΩÏÑ∏Í∏∞ 1Ïû•                  ‚îÇ
‚îÇ   ÏÇ¨Ïù¥ÎìúÎ∞î      ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                 ‚îÇ                                       ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ        HTML Î≥∏Î¨∏ Î†åÎçîÎßÅ               ‚îÇ
‚îÇ ‚îÇ Íµ¨ÏïΩ/Ïã†ÏïΩ   ‚îÇ ‚îÇ        (Íµ¨Ï†àÎ≥Ñ Íµ¨Ï°∞Ìôî)                ‚îÇ
‚îÇ ‚îÇ   ÌÉ≠        ‚îÇ ‚îÇ        [TTS Ïû¨ÏÉù Ï§ë ÌïòÏù¥ÎùºÏù¥Ìä∏]       ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ                                       ‚îÇ
‚îÇ                 ‚îÇ                                       ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ                                       ‚îÇ
‚îÇ ‚îÇ Ï±Ö Î™©Î°ù     ‚îÇ ‚îÇ                                       ‚îÇ
‚îÇ ‚îÇ (Ïä§ÌÅ¨Î°§)    ‚îÇ ‚îÇ                                       ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ                                       ‚îÇ
‚îÇ                 ‚îÇ                                       ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ                                       ‚îÇ
‚îÇ ‚îÇ Ïû• Î™©Î°ù     ‚îÇ ‚îÇ                                       ‚îÇ
‚îÇ ‚îÇ (Ïä§ÌÅ¨Î°§)    ‚îÇ ‚îÇ                                       ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ                                       ‚îÇ
‚îÇ                 ‚îÇ                                       ‚îÇ
‚îÇ                 ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                 ‚îÇ        [Ïù¥Ï†Ñ Ïû•] [Îã§Ïùå Ïû•]             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**ÌïµÏã¨ Í∏∞Îä• Íµ¨ÏÑ±:**
- **ÏôºÏ™Ω ÏÇ¨Ïù¥ÎìúÎ∞î**: Íµ¨ÏïΩ/Ïã†ÏïΩ ÌÉ≠, Ï±Ö Î™©Î°ù, Ïû• Î™©Î°ù (Í∏∞Ï°¥ Ïú†ÏßÄ)
- **Ïò§Î•∏Ï™Ω ÏùΩÍ∏∞ ÏòÅÏó≠**: 
  - ÏÉÅÎã®: ÏÑ†ÌÉùÎêú Ï±ÖÎ™ÖÍ≥º Ïû• Ïà´Ïûê ÌëúÏãú
  - Ï§ëÏïô: HTML ÌååÏùº ÏÜåÏä§ ÏôÑÎ≤Ω Î†åÎçîÎßÅ
  - ÌïòÎã®: Ïù¥Ï†Ñ/Îã§Ïùå Ïû• ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
- **ÌïµÏã¨ Í∏∞Îä•**: TTS ÏùΩÍ∏∞ ÏΩòÌä∏Î°§, ÌòÑÏû¨ ÏùΩÎäî Ï†à ÌïòÏù¥ÎùºÏù¥Ìä∏

### **Î∞òÏùëÌòï Î†àÏù¥ÏïÑÏõÉ Ï†ÑÎûµ**
```css
/* Desktop (1024px+) */
.bible-reading-layout {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 2rem;
  max-width: 1400px;
  margin: 0 auto;
}

/* Tablet (768px - 1023px) */
@media (max-width: 1023px) {
  .bible-reading-layout {
    grid-template-columns: 240px 1fr;
    gap: 1.5rem;
  }
}

/* Mobile (< 768px) */
@media (max-width: 767px) {
  .bible-reading-layout {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .navigation-sidebar {
    order: 2; /* Î™®Î∞îÏùºÏóêÏÑúÎäî ÌïòÎã®ÏúºÎ°ú Ïù¥Îèô */
    position: sticky;
    bottom: 0;
    background: var(--bg-secondary);
    border-top: 1px solid var(--border-primary);
  }
}
```

---

## üéÆ **1. ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏãúÏä§ÌÖú**

### **Ï¢åÏ∏° ÏÇ¨Ïù¥ÎìúÎ∞î Íµ¨ÏÑ±**

#### **1-1. Ïã†/Íµ¨ÏïΩ ÌÜ†Í∏Ä Ïä§ÏúÑÏπò**
```typescript
interface TestamentToggleProps {
  activeTestament: 'old' | 'new';
  onToggle: (testament: 'old' | 'new') => void;
}

const TestamentToggle: React.FC<TestamentToggleProps> = ({
  activeTestament,
  onToggle
}) => {
  return (
    <div className="testament-toggle">
      <button 
        className={`toggle-btn ${activeTestament === 'old' ? 'active' : ''}`}
        onClick={() => onToggle('old')}
        aria-label="Íµ¨ÏïΩ ÏÑ±Í≤Ω ÏÑ†ÌÉù"
      >
        Íµ¨ÏïΩ (39Í∂å)
      </button>
      <button 
        className={`toggle-btn ${activeTestament === 'new' ? 'active' : ''}`}
        onClick={() => onToggle('new')}
        aria-label="Ïã†ÏïΩ ÏÑ±Í≤Ω ÏÑ†ÌÉù"
      >
        Ïã†ÏïΩ (27Í∂å)
      </button>
    </div>
  );
};
```

#### **1-2. ÏÑ±Í≤Ω Ï±Ö ÏÑ†ÌÉù ÏãúÏä§ÌÖú**
```typescript
interface BibleBook {
  id: string;
  name: string;
  nameEnglish: string;
  abbreviation: string;
  totalChapters: number;
  category: 'old-testament' | 'new-testament';
  completedChapters: number;
  currentChapter?: number;
}

interface BookSelectorProps {
  testament: 'old' | 'new';
  books: BibleBook[];
  selectedBook?: BibleBook;
  onBookSelect: (book: BibleBook) => void;
}

const BookSelector: React.FC<BookSelectorProps> = ({
  testament,
  books,
  selectedBook,
  onBookSelect
}) => {
  const filteredBooks = books.filter(book => 
    book.category === `${testament}-testament`
  );

  return (
    <div className="book-selector">
      <h3 className="section-title">
        {testament === 'old' ? 'Íµ¨ÏïΩ ÏÑ±Í≤Ω' : 'Ïã†ÏïΩ ÏÑ±Í≤Ω'}
      </h3>
      
      <div className="book-grid">
        {filteredBooks.map(book => {
          const completionRate = (book.completedChapters / book.totalChapters) * 100;
          
          return (
            <button
              key={book.id}
              className={`book-card ${selectedBook?.id === book.id ? 'selected' : ''}`}
              onClick={() => onBookSelect(book)}
              aria-label={`${book.name} ${book.totalChapters}Ïû•`}
            >
              <div className="book-name">{book.name}</div>
              <div className="book-meta">{book.totalChapters}Ïû•</div>
              <div className="book-progress">
                <div 
                  className="progress-bar"
                  style={{ width: `${completionRate}%` }}
                />
              </div>
              <div className="completion-badge">
                {book.completedChapters}/{book.totalChapters}
              </div>
            </button>
          );
        })}
      </div>
    </div>
  );
};
```

#### **1-3. Ïû•(Chapter) ÏÑ†ÌÉù ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò**
```typescript
interface ChapterNavigatorProps {
  selectedBook: BibleBook;
  currentChapter: number;
  readingProgress: Record<number, {
    readingCompleted: boolean;
    listeningCompleted: boolean;
    completionPercentage: number;
  }>;
  onChapterSelect: (chapterNumber: number) => void;
}

const ChapterNavigator: React.FC<ChapterNavigatorProps> = ({
  selectedBook,
  currentChapter,
  readingProgress,
  onChapterSelect
}) => {
  const chapters = Array.from(
    { length: selectedBook.totalChapters }, 
    (_, i) => i + 1
  );

  return (
    <div className="chapter-navigator">
      <h4 className="navigator-title">
        üìñ {selectedBook.name}
      </h4>
      
      <div className="chapter-grid">
        {chapters.map(chapterNum => {
          const progress = readingProgress[chapterNum];
          const isCompleted = progress?.readingCompleted || progress?.listeningCompleted;
          const isCurrent = chapterNum === currentChapter;
          
          return (
            <button
              key={chapterNum}
              className={`
                chapter-btn 
                ${isCurrent ? 'current' : ''} 
                ${isCompleted ? 'completed' : ''}
              `}
              onClick={() => onChapterSelect(chapterNum)}
              aria-label={`${chapterNum}Ïû• ${isCompleted ? 'ÏôÑÎ£å' : 'ÎØ∏ÏôÑÎ£å'}`}
            >
              <span className="chapter-number">{chapterNum}</span>
              {isCompleted && (
                <div className="completion-indicator">
                  {progress.readingCompleted && <Icon name="book" size="xs" />}
                  {progress.listeningCompleted && <Icon name="volume" size="xs" />}
                </div>
              )}
              {progress?.completionPercentage && (
                <div 
                  className="progress-ring"
                  style={{ 
                    background: `conic-gradient(
                      var(--accent-primary) ${progress.completionPercentage * 3.6}deg,
                      var(--border-primary) 0deg
                    )`
                  }}
                />
              )}
            </button>
          );
        })}
      </div>
      
      {/* Quick Jump Controls */}
      <div className="quick-jump">
        <button 
          className="nav-btn"
          onClick={() => onChapterSelect(Math.max(1, currentChapter - 1))}
          disabled={currentChapter <= 1}
          aria-label="Ïù¥Ï†Ñ Ïû•"
        >
          <Icon name="chevronLeft" /> Ïù¥Ï†Ñ
        </button>
        <button 
          className="nav-btn"
          onClick={() => onChapterSelect(Math.min(selectedBook.totalChapters, currentChapter + 1))}
          disabled={currentChapter >= selectedBook.totalChapters}
          aria-label="Îã§Ïùå Ïû•"
        >
          Îã§Ïùå <Icon name="chevronRight" />
        </button>
      </div>
    </div>
  );
};
```

#### **1-4. Í∞úÏù∏ ÏßÑÎèÑ ÎåÄÏãúÎ≥¥Îìú**
```typescript
interface ProgressDashboardProps {
  dailyGoal: {
    readingMinutes: number;
    listeningMinutes: number;
  };
  todayProgress: {
    readingMinutes: number;
    listeningMinutes: number;
    chaptersCompleted: number;
    streak: number;
  };
  weeklyStats: {
    totalChapters: number;
    averageTime: number;
    favoriteBooks: string[];
  };
}

const ProgressDashboard: React.FC<ProgressDashboardProps> = ({
  dailyGoal,
  todayProgress,
  weeklyStats
}) => {
  const readingProgress = (todayProgress.readingMinutes / dailyGoal.readingMinutes) * 100;
  const listeningProgress = (todayProgress.listeningMinutes / dailyGoal.listeningMinutes) * 100;

  return (
    <div className="progress-dashboard">
      <h4 className="dashboard-title">üìä Ïò§ÎäòÏùò ÏßÑÎèÑ</h4>
      
      {/* Daily Goals */}
      <div className="daily-goals">
        <div className="goal-item">
          <div className="goal-header">
            <Icon name="bookOpen" size="sm" />
            <span>ÏùΩÍ∏∞</span>
          </div>
          <div className="goal-progress">
            <div className="progress-bar">
              <div 
                className="progress-fill reading"
                style={{ width: `${Math.min(readingProgress, 100)}%` }}
              />
            </div>
            <span className="progress-text">
              {todayProgress.readingMinutes}Î∂Ñ / {dailyGoal.readingMinutes}Î∂Ñ
            </span>
          </div>
        </div>
        
        <div className="goal-item">
          <div className="goal-header">
            <Icon name="volume" size="sm" />
            <span>Îì£Í∏∞</span>
          </div>
          <div className="goal-progress">
            <div className="progress-bar">
              <div 
                className="progress-fill listening"
                style={{ width: `${Math.min(listeningProgress, 100)}%` }}
              />
            </div>
            <span className="progress-text">
              {todayProgress.listeningMinutes}Î∂Ñ / {dailyGoal.listeningMinutes}Î∂Ñ
            </span>
          </div>
        </div>
      </div>
      
      {/* Statistics */}
      <div className="stats-grid">
        <div className="stat-item">
          <div className="stat-value">{todayProgress.chaptersCompleted}</div>
          <div className="stat-label">ÏôÑÎèÖ Ïû•</div>
        </div>
        <div className="stat-item">
          <div className="stat-value">üî• {todayProgress.streak}</div>
          <div className="stat-label">Ïó∞ÏÜçÏùº</div>
        </div>
        <div className="stat-item">
          <div className="stat-value">{weeklyStats.totalChapters}</div>
          <div className="stat-label">Ï£ºÍ∞Ñ ÏôÑÎèÖ</div>
        </div>
      </div>
      
      {/* Achievements */}
      <div className="achievements">
        <h5>üèÜ Ïù¥Î≤à Ï£º ÏÑ±Í≥º</h5>
        <div className="achievement-list">
          {weeklyStats.favoriteBooks.map(book => (
            <div key={book} className="achievement-badge">
              üìñ {book} ÎßàÏä§ÌÑ∞
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};
```

---

## üéµ **2. Ïò§ÎîîÏò§ ÏãúÏä§ÌÖú (TTS ÌÜµÌï©)**

### **2-1. Ïò§ÎîîÏò§ ÌîåÎ†àÏù¥Ïñ¥ Ïª¥Ìè¨ÎÑåÌä∏**
```typescript
interface AudioPlayerState {
  isPlaying: boolean;
  currentVerse: number;
  totalVerses: number;
  currentTime: number;
  totalTime: number;
  playbackRate: number;
  volume: number;
  isLoading: boolean;
}

interface AudioPlayerProps {
  verses: BibleVerse[];
  initialSettings: {
    voice: string;
    rate: number;
    pitch: number;
    volume: number;
  };
  onVerseChange: (verseIndex: number) => void;
  onProgressUpdate: (progress: number) => void;
}

const AudioPlayer: React.FC<AudioPlayerProps> = ({
  verses,
  initialSettings,
  onVerseChange,
  onProgressUpdate
}) => {
  const [playerState, setPlayerState] = useState<AudioPlayerState>({
    isPlaying: false,
    currentVerse: 0,
    totalVerses: verses.length,
    currentTime: 0,
    totalTime: 0,
    playbackRate: initialSettings.rate,
    volume: initialSettings.volume,
    isLoading: false
  });

  const { speak, stop, pause, resume, supported } = useSpeechSynthesis();

  const handlePlayPause = () => {
    if (playerState.isPlaying) {
      pause();
      setPlayerState(prev => ({ ...prev, isPlaying: false }));
    } else {
      const currentVerse = verses[playerState.currentVerse];
      speak({
        text: `${currentVerse.number}Ï†à. ${currentVerse.text}`,
        voice: speechSynthesis.getVoices().find(v => v.name === initialSettings.voice),
        rate: playerState.playbackRate,
        pitch: initialSettings.pitch,
        volume: playerState.volume
      });
      setPlayerState(prev => ({ ...prev, isPlaying: true }));
    }
  };

  const handleNext = () => {
    const nextVerse = Math.min(playerState.currentVerse + 1, verses.length - 1);
    setPlayerState(prev => ({ ...prev, currentVerse: nextVerse }));
    onVerseChange(nextVerse);
  };

  const handlePrevious = () => {
    const prevVerse = Math.max(playerState.currentVerse - 1, 0);
    setPlayerState(prev => ({ ...prev, currentVerse: prevVerse }));
    onVerseChange(prevVerse);
  };

  return (
    <div className="audio-player">
      {/* Main Controls */}
      <div className="player-controls">
        <button 
          className="control-btn"
          onClick={handlePrevious}
          disabled={playerState.currentVerse === 0}
          aria-label="Ïù¥Ï†Ñ Íµ¨Ï†à"
        >
          <Icon name="chevronLeft" />
        </button>
        
        <button 
          className="play-btn"
          onClick={handlePlayPause}
          disabled={!supported || playerState.isLoading}
          aria-label={playerState.isPlaying ? "ÏùºÏãúÏ†ïÏßÄ" : "Ïû¨ÏÉù"}
        >
          {playerState.isLoading ? (
            <div className="loading-spinner" />
          ) : playerState.isPlaying ? (
            <Icon name="pause" />
          ) : (
            <Icon name="play" />
          )}
        </button>
        
        <button 
          className="control-btn"
          onClick={handleNext}
          disabled={playerState.currentVerse === verses.length - 1}
          aria-label="Îã§Ïùå Íµ¨Ï†à"
        >
          <Icon name="chevronRight" />
        </button>
      </div>
      
      {/* Progress Bar */}
      <div className="progress-section">
        <div className="progress-bar" role="progressbar">
          <div 
            className="progress-fill"
            style={{ 
              width: `${(playerState.currentVerse / verses.length) * 100}%` 
            }}
          />
        </div>
        <div className="progress-text">
          {playerState.currentVerse + 1} / {verses.length} Íµ¨Ï†à
        </div>
      </div>
      
      {/* Current Verse Indicator */}
      <div className="current-verse-info">
        <Icon name="volume" size="sm" />
        <span className="verse-text">
          {verses[playerState.currentVerse]?.number}Ï†à: 
          {verses[playerState.currentVerse]?.text.substring(0, 30)}...
        </span>
      </div>
      
      {/* Advanced Controls */}
      <div className="advanced-controls">
        <div className="control-group">
          <label htmlFor="playback-rate">Ïû¨ÏÉù ÏÜçÎèÑ</label>
          <select 
            id="playback-rate"
            value={playerState.playbackRate}
            onChange={(e) => setPlayerState(prev => ({ 
              ...prev, 
              playbackRate: parseFloat(e.target.value) 
            }))}
          >
            <option value={0.5}>0.5x</option>
            <option value={0.75}>0.75x</option>
            <option value={1.0}>1.0x</option>
            <option value={1.25}>1.25x</option>
            <option value={1.5}>1.5x</option>
          </select>
        </div>
        
        <div className="control-group">
          <label htmlFor="volume">ÏùåÎüâ</label>
          <input 
            id="volume"
            type="range"
            min="0"
            max="1"
            step="0.1"
            value={playerState.volume}
            onChange={(e) => setPlayerState(prev => ({ 
              ...prev, 
              volume: parseFloat(e.target.value) 
            }))}
          />
        </div>
        
        <button className="timer-btn">
          <Icon name="clock" size="sm" />
          Ï∑®Ïπ® ÌÉÄÏù¥Î®∏
        </button>
      </div>
    </div>
  );
};
```

### **2-2. TTS ÏÑ§Ï†ï Î∞è ÏùåÏÑ± ÏÑ†ÌÉù**
```typescript
interface TTSSettings {
  voice: SpeechSynthesisVoice | null;
  rate: number; // 0.1 to 10
  pitch: number; // 0 to 2  
  volume: number; // 0 to 1
  autoAdvance: boolean;
  pauseBetweenVerses: number; // milliseconds
}

const TTSSettingsPanel: React.FC<{
  settings: TTSSettings;
  onChange: (settings: TTSSettings) => void;
}> = ({ settings, onChange }) => {
  const [voices, setVoices] = useState<SpeechSynthesisVoice[]>([]);
  
  useEffect(() => {
    const loadVoices = () => {
      const availableVoices = speechSynthesis.getVoices();
      const koreanVoices = availableVoices.filter(voice => 
        voice.lang.startsWith('ko') || 
        voice.name.includes('Korean') ||
        voice.name.includes('ÌïúÍµ≠')
      );
      setVoices(koreanVoices.length > 0 ? koreanVoices : availableVoices.slice(0, 5));
    };

    loadVoices();
    speechSynthesis.addEventListener('voiceschanged', loadVoices);
    
    return () => {
      speechSynthesis.removeEventListener('voiceschanged', loadVoices);
    };
  }, []);

  return (
    <div className="tts-settings-panel">
      <h4>üéµ ÏùåÏÑ± ÏÑ§Ï†ï</h4>
      
      <div className="setting-group">
        <label htmlFor="voice-select">ÏùåÏÑ± ÏÑ†ÌÉù</label>
        <select 
          id="voice-select"
          value={settings.voice?.name || ''}
          onChange={(e) => {
            const selectedVoice = voices.find(v => v.name === e.target.value);
            onChange({ ...settings, voice: selectedVoice || null });
          }}
        >
          <option value="">Í∏∞Î≥∏ ÏùåÏÑ±</option>
          {voices.map(voice => (
            <option key={voice.name} value={voice.name}>
              {voice.name} ({voice.lang})
            </option>
          ))}
        </select>
      </div>
      
      <div className="setting-group">
        <label htmlFor="rate-slider">
          ÎßêÌïòÍ∏∞ ÏÜçÎèÑ: {settings.rate.toFixed(1)}x
        </label>
        <input 
          id="rate-slider"
          type="range"
          min="0.5"
          max="2.0"
          step="0.1"
          value={settings.rate}
          onChange={(e) => onChange({ 
            ...settings, 
            rate: parseFloat(e.target.value) 
          })}
        />
      </div>
      
      <div className="setting-group">
        <label htmlFor="pitch-slider">
          ÏùåÏ°∞: {settings.pitch.toFixed(1)}
        </label>
        <input 
          id="pitch-slider"
          type="range"
          min="0.5"
          max="2.0"
          step="0.1"
          value={settings.pitch}
          onChange={(e) => onChange({ 
            ...settings, 
            pitch: parseFloat(e.target.value) 
          })}
        />
      </div>
      
      <div className="setting-group">
        <label>
          <input 
            type="checkbox"
            checked={settings.autoAdvance}
            onChange={(e) => onChange({ 
              ...settings, 
              autoAdvance: e.target.checked 
            })}
          />
          ÏûêÎèôÏúºÎ°ú Îã§Ïùå Íµ¨Ï†à Ïû¨ÏÉù
        </label>
      </div>
      
      {settings.autoAdvance && (
        <div className="setting-group">
          <label htmlFor="pause-duration">
            Íµ¨Ï†à Í∞Ñ Î©àÏ∂§: {settings.pauseBetweenVerses / 1000}Ï¥à
          </label>
          <input 
            id="pause-duration"
            type="range"
            min="500"
            max="5000"
            step="500"
            value={settings.pauseBetweenVerses}
            onChange={(e) => onChange({ 
              ...settings, 
              pauseBetweenVerses: parseInt(e.target.value) 
            })}
          />
        </div>
      )}
    </div>
  );
};
```

---

## üìñ **3. Î≥∏Î¨∏ ÌëúÏãú ÏãúÏä§ÌÖú**

### **3-1. ÏÑ±Í≤Ω ÏùΩÍ∏∞ ÌïµÏã¨ Í∏∞Îä•**

#### **3-1-1. ÏÉÅÎã® Ìó§Îçî ÏòÅÏó≠**
```typescript
interface ChapterHeaderProps {
  bookName: string;
  chapterNumber: number;
  chapterTitle?: string;
}

const ChapterHeader: React.FC<ChapterHeaderProps> = ({
  bookName,
  chapterNumber,
  chapterTitle
}) => {
  return (
    <div className="chapter-header">
      <h1 className="chapter-title">
        {bookName} {chapterNumber}Ïû•
      </h1>
      {chapterTitle && (
        <p className="chapter-subtitle">{chapterTitle}</p>
      )}
    </div>
  );
};
```

#### **3-1-2. HTML Î≥∏Î¨∏ Î†åÎçîÎßÅ ÏòÅÏó≠**
```typescript
interface BibleContentProps {
  htmlContent: string;
  currentAudioVerse?: number;
  onVerseClick?: (verseNumber: number) => void;
}

const BibleContent: React.FC<BibleContentProps> = ({
  htmlContent,
  currentAudioVerse,
  onVerseClick
}) => {
  return (
    <div className="bible-content">
      <div 
        className="html-content"
        dangerouslySetInnerHTML={{ __html: htmlContent }}
        onClick={(e) => {
          const verseElement = (e.target as HTMLElement).closest('[data-verse]');
          if (verseElement) {
            const verseNumber = parseInt(verseElement.getAttribute('data-verse') || '0');
            onVerseClick?.(verseNumber);
          }
        }}
      />
      {currentAudioVerse && (
        <div className="current-verse-highlight" data-verse={currentAudioVerse}>
          ÌòÑÏû¨ ÏùΩÎäî Íµ¨Ï†à: {currentAudioVerse}Ï†à
        </div>
      )}
    </div>
  );
};
```

#### **3-1-3. ÌïòÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏòÅÏó≠**
```typescript
interface ChapterNavigationProps {
  hasPreviousChapter: boolean;
  hasNextChapter: boolean;
  onPreviousChapter: () => void;
  onNextChapter: () => void;
}

const ChapterNavigation: React.FC<ChapterNavigationProps> = ({
  hasPreviousChapter,
  hasNextChapter,
  onPreviousChapter,
  onNextChapter
}) => {
  return (
    <div className="chapter-navigation">
      <button 
        className="nav-btn prev-btn"
        disabled={!hasPreviousChapter}
        onClick={onPreviousChapter}
        aria-label="Ïù¥Ï†Ñ Ïû•ÏúºÎ°ú Ïù¥Îèô"
      >
        Ïù¥Ï†Ñ Ïû•
      </button>
      <button 
        className="nav-btn next-btn"
        disabled={!hasNextChapter}
        onClick={onNextChapter}
        aria-label="Îã§Ïùå Ïû•ÏúºÎ°ú Ïù¥Îèô"
      >
        Îã§Ïùå Ïû•
      </button>
    </div>
  );
};
```

### **3-2. TTS ÏùΩÍ∏∞ ÏΩòÌä∏Î°§**
```typescript
interface TTSControlsProps {
  isPlaying: boolean;
  currentVerse: number;
  totalVerses: number;
  onPlay: () => void;
  onPause: () => void;
  onStop: () => void;
  onVerseSelect: (verseNumber: number) => void;
}

const TTSControls: React.FC<TTSControlsProps> = ({
  isPlaying,
  currentVerse,
  totalVerses,
  onPlay,
  onPause,
  onStop,
  onVerseSelect
}) => {
  return (
    <div className="tts-controls">
      <div className="tts-buttons">
        <button 
          className="tts-btn play-btn"
          onClick={isPlaying ? onPause : onPlay}
          aria-label={isPlaying ? 'ÏùºÏãúÏ†ïÏßÄ' : 'Ïû¨ÏÉù'}
        >
          {isPlaying ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è'}
        </button>
        <button 
          className="tts-btn stop-btn"
          onClick={onStop}
          aria-label="Ï†ïÏßÄ"
        >
          ‚èπÔ∏è
        </button>
      </div>
      
      <div className="tts-progress">
        <span className="current-verse">ÌòÑÏû¨: {currentVerse}Ï†à</span>
        <span className="total-verses">Ï†ÑÏ≤¥: {totalVerses}Ï†à</span>
      </div>
    </div>
  );
};
```

### **3-3. ÌòÑÏû¨ ÏùΩÎäî Ï†à ÌïòÏù¥ÎùºÏù¥Ìä∏ Í∏∞Îä•**
```typescript
interface VerseHighlightProps {
  currentVerse: number;
  verses: Array<{ number: number; text: string }>;
}

const VerseHighlight: React.FC<VerseHighlightProps> = ({
  currentVerse,
  verses
}) => {
  return (
    <div className="verse-highlight-container">
      {verses.map(verse => (
        <div
          key={verse.number}
          className={`verse ${currentVerse === verse.number ? 'highlighted' : ''}`}
          data-verse={verse.number}
        >
          <span className="verse-number">{verse.number}</span>
          <span className="verse-text">{verse.text}</span>
        </div>
      ))}
    </div>
  );
};
```

  const fontSizeOptions = [
    { value: 'small', label: 'ÏûëÍ≤å' },
    { value: 'medium', label: 'Î≥¥ÌÜµ' },
    { value: 'large', label: 'ÌÅ¨Í≤å' },
    { value: 'xl', label: 'Îß§Ïö∞ÌÅ¨Í≤å' }
  ] as const;

  return (
    <div className="reading-mode-controls">
      {/* Reading Mode Selection */}
      <div className="control-group">
        <h4 className="control-label">ÏùΩÍ∏∞ Î™®Îìú</h4>
        <div className="mode-selector">
          {modeOptions.map(option => (
            <button
              key={option.value}
              className={`mode-btn ${currentMode === option.value ? 'active' : ''}`}
              onClick={() => onModeChange(option.value as ReadingMode)}
              title={option.description}
              aria-label={`${option.label} Î™®ÎìúÎ°ú Î≥ÄÍ≤Ω`}
            >
              <Icon name={option.icon} size="sm" />
              <span>{option.label}</span>
            </button>
          ))}
        </div>
      </div>
      
      {/* Font Size Control */}
      <div className="control-group">
        <h4 className="control-label">Í∏ÄÏûê ÌÅ¨Í∏∞</h4>
        <div className="font-size-selector">
          {fontSizeOptions.map(option => (
            <button
              key={option.value}
              className={`font-btn ${fontSize === option.value ? 'active' : ''}`}
              onClick={() => onFontSizeChange(option.value)}
              aria-label={`Í∏ÄÏûê ÌÅ¨Í∏∞ ${option.label}Î°ú Î≥ÄÍ≤Ω`}
            >
              {option.label}
            </button>
          ))}
        </div>
      </div>
      
      {/* Additional Controls */}
      <div className="control-group">
        <h4 className="control-label">ÌôîÎ©¥ ÏÑ§Ï†ï</h4>
        <div className="additional-controls">
          <button 
            className="control-btn"
            onClick={onThemeToggle}
            aria-label={`${theme === 'dark' ? 'ÎùºÏù¥Ìä∏' : 'Îã§ÌÅ¨'} Î™®ÎìúÎ°ú Î≥ÄÍ≤Ω`}
          >
            <Icon name={theme === 'dark' ? 'sun' : 'moon'} size="sm" />
            {theme === 'dark' ? 'ÎùºÏù¥Ìä∏Î™®Îìú' : 'Îã§ÌÅ¨Î™®Îìú'}
          </button>
          
          <button className="control-btn">
            <Icon name="maximize" size="sm" />
            Ï†ÑÏ≤¥ÌôîÎ©¥
          </button>
          
          <button className="control-btn">
            <Icon name="bookmark" size="sm" />
            Ï±ÖÍ∞àÌîº
          </button>
        </div>
      </div>
    </div>
  );
};
```

### **3-2. ÏÑ±Í≤Ω Î≥∏Î¨∏ Î†åÎçîÎßÅ Ïª¥Ìè¨ÎÑåÌä∏**
```typescript
interface BibleVerse {
  number: number;
  text: string;
  reference: string; // e.g., "Ï∞Ω 1:1"
  isHighlighted?: boolean;
  highlightType?: 'personal' | 'community' | 'study';
  notes?: string[];
}

interface BibleContentProps {
  verses: BibleVerse[];
  readingMode: ReadingMode;
  fontSize: string;
  currentAudioVerse?: number;
  highlightMode: boolean;
  onVerseClick: (verseNumber: number) => void;
  onVerseHighlight: (verseNumber: number, type: 'personal' | 'community' | 'study') => void;
}

const BibleContent: React.FC<BibleContentProps> = ({
  verses,
  readingMode,
  fontSize,
  currentAudioVerse,
  highlightMode,
  onVerseClick,
  onVerseHighlight
}) => {
  const [selectedVerse, setSelectedVerse] = useState<number | null>(null);

  const handleVerseInteraction = (verseNumber: number) => {
    if (highlightMode) {
      onVerseHighlight(verseNumber, 'personal');
    } else {
      setSelectedVerse(verseNumber === selectedVerse ? null : verseNumber);
      onVerseClick(verseNumber);
    }
  };

  const renderVerse = (verse: BibleVerse, index: number) => {
    const isCurrentAudio = currentAudioVerse === verse.number;
    const isSelected = selectedVerse === verse.number;
    
    const verseClasses = `
      verse
      ${readingMode}-mode
      ${verse.isHighlighted ? `highlighted-${verse.highlightType}` : ''}
      ${isCurrentAudio ? 'current-audio' : ''}
      ${isSelected ? 'selected' : ''}
      ${fontSize}
    `;

    return (
      <div
        key={verse.number}
        className={verseClasses}
        data-verse={verse.number}
        onClick={() => handleVerseInteraction(verse.number)}
        role="button"
        tabIndex={0}
        aria-label={`${verse.number}Ï†à: ${verse.text.substring(0, 50)}...`}
        onKeyDown={(e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            handleVerseInteraction(verse.number);
          }
        }}
      >
        {/* Verse Number */}
        <span className="verse-number" aria-label={`${verse.number}Ï†à`}>
          {verse.number}
        </span>
        
        {/* Verse Text */}
        <span className="verse-text">
          {verse.text}
        </span>
        
        {/* Audio Playing Indicator */}
        {isCurrentAudio && (
          <div className="audio-indicator" aria-label="ÌòÑÏû¨ Ïû¨ÏÉù Ï§ë">
            <div className="audio-waves">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>
        )}
        
        {/* Highlight Indicator */}
        {verse.isHighlighted && (
          <div className={`highlight-indicator ${verse.highlightType}`}>
            <Icon 
              name={verse.highlightType === 'personal' ? 'heart' : 
                    verse.highlightType === 'community' ? 'users' : 'star'} 
              size="xs" 
            />
          </div>
        )}
        
        {/* Notes Indicator */}
        {verse.notes && verse.notes.length > 0 && (
          <div className="notes-indicator">
            <Icon name="messageCircle" size="xs" />
            <span className="notes-count">{verse.notes.length}</span>
          </div>
        )}
      </div>
    );
  };

  return (
    <div className={`bible-content ${readingMode}-layout`}>
      {/* Chapter Header */}
      <div className="chapter-header">
        <h1 className="chapter-title">
          {verses[0]?.reference.split(':')[0]} {/* e.g., "Ï∞ΩÏÑ∏Í∏∞ 1Ïû•" */}
        </h1>
        <div className="chapter-meta">
          <span className="verse-count">{verses.length}Í∞ú Íµ¨Ï†à</span>
          <span className="reading-time">ÏòàÏÉÅ ÏùΩÍ∏∞ ÏãúÍ∞Ñ {Math.ceil(verses.length / 3)}Î∂Ñ</span>
        </div>
      </div>
      
      {/* Verses Container */}
      <div className="verses-container">
        {readingMode === 'meditation' ? (
          // Meditation Mode: One verse at a time
          <div className="meditation-container">
            {verses.map((verse, index) => (
              <div key={verse.number} className="meditation-verse-wrapper">
                {renderVerse(verse, index)}
                {index < verses.length - 1 && (
                  <div className="verse-divider">‚¨•</div>
                )}
              </div>
            ))}
          </div>
        ) : (
          // Normal and Paragraph Modes
          <div className="normal-verses-container">
            {verses.map((verse, index) => renderVerse(verse, index))}
          </div>
        )}
      </div>
      
      {/* Reading Progress Indicator */}
      <div className="reading-progress-indicator">
        <div className="progress-line">
          <div 
            className="progress-fill"
            style={{ 
              width: `${selectedVerse ? (selectedVerse / verses.length) * 100 : 0}%` 
            }}
          />
        </div>
        <span className="progress-text">
          {selectedVerse ? `${selectedVerse}/${verses.length} Íµ¨Ï†à` : 'ÏùΩÍ∏∞ ÏãúÏûë'}
        </span>
      </div>
    </div>
  );
};
```

### **3-3. ÏùΩÍ∏∞ Î™®ÎìúÎ≥Ñ Ïä§ÌÉÄÏùºÎßÅ**
```css
/* Base Verse Styling */
.verse {
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  border-radius: 8px;
  border-left: 3px solid transparent;
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
}

.verse:hover {
  background: var(--hover-overlay);
  border-left-color: var(--accent-primary);
}

.verse-number {
  font-weight: 600;
  color: var(--accent-primary);
  font-size: 0.9em;
  min-width: 2rem;
  flex-shrink: 0;
}

.verse-text {
  flex: 1;
  line-height: 1.7;
}

/* Reading Mode Variations */

/* 1. Verse Mode (Default) */
.verse.verse-mode {
  display: flex;
  background: var(--bg-card);
  border: 1px solid var(--border-primary);
}

/* 2. Paragraph Mode */
.paragraph-layout .verse {
  display: inline;
  padding: 0;
  margin: 0;
  background: transparent;
  border: none;
}

.paragraph-layout .verse-number {
  font-size: 0.75em;
  vertical-align: super;
  margin-right: 0.25rem;
}

.paragraph-layout .verse-text {
  display: inline;
}

/* 3. Meditation Mode */
.meditation-verse-wrapper {
  margin: 3rem 0;
  text-align: center;
}

.verse.meditation-mode {
  flex-direction: column;
  align-items: center;
  padding: 2rem;
  background: var(--bg-card);
  border: 2px solid var(--border-primary);
  border-radius: 16px;
  max-width: 600px;
  margin: 0 auto;
}

.meditation-mode .verse-text {
  font-size: 1.25em;
  line-height: 2;
  text-align: center;
  font-weight: 400;
}

.verse-divider {
  text-align: center;
  font-size: 1.5rem;
  color: var(--text-muted);
  margin: 2rem 0;
}

/* Font Size Variations */
.verse.small .verse-text { font-size: 0.875rem; }
.verse.medium .verse-text { font-size: 1rem; }
.verse.large .verse-text { font-size: 1.125rem; }
.verse.xl .verse-text { font-size: 1.25rem; }

/* Highlight Styles */
.verse.highlighted-personal {
  background: var(--highlight-personal);
  border-left-color: var(--accent-primary);
}

.verse.highlighted-community {
  background: var(--highlight-community);
  border-left-color: var(--success);
}

.verse.highlighted-study {
  background: var(--highlight-study);
  border-left-color: #a855f7;
}

/* Current Audio Verse */
.verse.current-audio {
  background: var(--highlight-meditation);
  border-left-color: #eab308;
  box-shadow: 0 0 0 2px rgba(234, 179, 8, 0.3);
}

/* Audio Playing Animation */
.audio-indicator {
  position: absolute;
  right: 1rem;
  top: 50%;
  transform: translateY(-50%);
}

.audio-waves {
  display: flex;
  gap: 2px;
  align-items: end;
}

.audio-waves span {
  width: 2px;
  background: #eab308;
  animation: audioWave 1s ease-in-out infinite alternate;
}

.audio-waves span:nth-child(2) { animation-delay: 0.1s; }
.audio-waves span:nth-child(3) { animation-delay: 0.2s; }

@keyframes audioWave {
  from { height: 4px; }
  to { height: 12px; }
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .verse {
    padding: 0.5rem;
    gap: 0.5rem;
  }
  
  .meditation-mode {
    padding: 1.5rem;
    margin: 1rem;
  }
  
  .verse-divider {
    margin: 1rem 0;
  }
}
```

---

## ‚ú® **4. ÌïòÏù¥ÎùºÏù¥Ìä∏ ÏãúÏä§ÌÖú**

### **4-1. ÌïòÏù¥ÎùºÏù¥Ìä∏ Í¥ÄÎ¶¨ Ïª¥Ìè¨ÎÑåÌä∏**
```typescript
interface Highlight {
  id: string;
  verseNumber: number;
  type: 'personal' | 'community' | 'study';
  color?: string;
  note?: string;
  createdAt: Date;
  userId?: string;
}

interface HighlightManagerProps {
  highlights: Highlight[];
  onAdd: (verseNumber: number, type: Highlight['type'], note?: string) => void;
  onRemove: (highlightId: string) => void;
  onUpdate: (highlightId: string, updates: Partial<Highlight>) => void;
}

const HighlightManager: React.FC<HighlightManagerProps> = ({
  highlights,
  onAdd,
  onRemove,
  onUpdate
}) => {
  const [activeMode, setActiveMode] = useState<Highlight['type'] | null>(null);
  const [showNoteDialog, setShowNoteDialog] = useState<number | null>(null);

  const highlightTypes = [
    { 
      type: 'personal', 
      label: 'Í∞úÏù∏ ÌïòÏù¥ÎùºÏù¥Ìä∏', 
      icon: 'heart', 
      color: '#3b82f6',
      description: 'Í∞úÏù∏Ï†ÅÏù∏ Î¨µÏÉÅÍ≥º Íπ®Îã¨Ïùå' 
    },
    { 
      type: 'community', 
      label: 'Ïª§ÎÆ§ÎãàÌã∞ ÌïòÏù¥ÎùºÏù¥Ìä∏', 
      icon: 'users', 
      color: '#10b981',
      description: 'ÎßéÏùÄ ÏÇ¨Ïö©ÏûêÍ∞Ä ÏÑ†ÌÉùÌïú Íµ¨Ï†à' 
    },
    { 
      type: 'study', 
      label: 'Ïó∞Íµ¨ ÌïòÏù¥ÎùºÏù¥Ìä∏', 
      icon: 'star', 
      color: '#a855f7',
      description: 'ÌïôÏäµÍ≥º Ïó∞Íµ¨Î•º ÏúÑÌïú ÌëúÏãú' 
    }
  ] as const;

  const getHighlightStats = () => {
    return highlightTypes.map(type => ({
      ...type,
      count: highlights.filter(h => h.type === type.type).length
    }));
  };

  return (
    <div className="highlight-manager">
      <div className="highlight-controls">
        <h4 className="controls-title">‚ú® ÌïòÏù¥ÎùºÏù¥Ìä∏ ÎèÑÍµ¨</h4>
        
        {/* Mode Selector */}
        <div className="highlight-mode-selector">
          {highlightTypes.map(type => (
            <button
              key={type.type}
              className={`highlight-mode-btn ${activeMode === type.type ? 'active' : ''}`}
              onClick={() => setActiveMode(activeMode === type.type ? null : type.type)}
              style={{ '--highlight-color': type.color } as React.CSSProperties}
              title={type.description}
            >
              <Icon name={type.icon} size="sm" />
              <span>{type.label}</span>
              <span className="highlight-count">
                {highlights.filter(h => h.type === type.type).length}
              </span>
            </button>
          ))}
        </div>
        
        {/* Active Mode Indicator */}
        {activeMode && (
          <div className="active-mode-indicator">
            <Icon name="info" size="sm" />
            <span>
              {highlightTypes.find(t => t.type === activeMode)?.description}
            </span>
            <button 
              className="deactivate-btn"
              onClick={() => setActiveMode(null)}
            >
              Ìï¥Ï†ú
            </button>
          </div>
        )}
      </div>
      
      {/* Highlight Statistics */}
      <div className="highlight-stats">
        <h5>üìä ÌïòÏù¥ÎùºÏù¥Ìä∏ ÌòÑÌô©</h5>
        <div className="stats-grid">
          {getHighlightStats().map(stat => (
            <div key={stat.type} className="stat-card">
              <div className="stat-icon" style={{ color: stat.color }}>
                <Icon name={stat.icon} size="sm" />
              </div>
              <div className="stat-info">
                <span className="stat-number">{stat.count}</span>
                <span className="stat-label">{stat.label}</span>
              </div>
            </div>
          ))}
        </div>
      </div>
      
      {/* Recent Highlights */}
      <div className="recent-highlights">
        <h5>üìù ÏµúÍ∑º ÌïòÏù¥ÎùºÏù¥Ìä∏</h5>
        <div className="highlights-list">
          {highlights
            .sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime())
            .slice(0, 5)
            .map(highlight => (
              <div key={highlight.id} className="highlight-item">
                <div className="highlight-info">
                  <span className="verse-ref">{highlight.verseNumber}Ï†à</span>
                  <span className={`highlight-type ${highlight.type}`}>
                    <Icon 
                      name={highlightTypes.find(t => t.type === highlight.type)?.icon || 'star'} 
                      size="xs" 
                    />
                  </span>
                </div>
                {highlight.note && (
                  <p className="highlight-note">{highlight.note}</p>
                )}
                <div className="highlight-actions">
                  <button 
                    className="action-btn edit"
                    onClick={() => setShowNoteDialog(highlight.verseNumber)}
                  >
                    <Icon name="edit" size="xs" />
                  </button>
                  <button 
                    className="action-btn delete"
                    onClick={() => onRemove(highlight.id)}
                  >
                    <Icon name="trash2" size="xs" />
                  </button>
                </div>
              </div>
            ))}
        </div>
      </div>
      
      {/* Note Dialog */}
      {showNoteDialog && (
        <NoteDialog
          verseNumber={showNoteDialog}
          existingNote={highlights.find(h => h.verseNumber === showNoteDialog)?.note}
          onSave={(note) => {
            const existingHighlight = highlights.find(h => h.verseNumber === showNoteDialog);
            if (existingHighlight) {
              onUpdate(existingHighlight.id, { note });
            }
            setShowNoteDialog(null);
          }}
          onCancel={() => setShowNoteDialog(null)}
        />
      )}
    </div>
  );
};
```

### **4-2. ÎÖ∏Ìä∏ ÏûëÏÑ± Îã§Ïù¥ÏñºÎ°úÍ∑∏**
```typescript
interface NoteDialogProps {
  verseNumber: number;
  existingNote?: string;
  onSave: (note: string) => void;
  onCancel: () => void;
}

const NoteDialog: React.FC<NoteDialogProps> = ({
  verseNumber,
  existingNote = '',
  onSave,
  onCancel
}) => {
  const [note, setNote] = useState(existingNote);
  const [isSaving, setIsSaving] = useState(false);

  const handleSave = async () => {
    if (note.trim()) {
      setIsSaving(true);
      try {
        await onSave(note.trim());
      } finally {
        setIsSaving(false);
      }
    }
  };

  return (
    <Modal
      isOpen={true}
      onClose={onCancel}
      title={`${verseNumber}Ï†à Î¨µÏÉÅ ÎÖ∏Ìä∏`}
      size="md"
    >
      <div className="note-dialog">
        <div className="note-input-section">
          <label htmlFor="note-textarea" className="sr-only">
            Î¨µÏÉÅ ÎÖ∏Ìä∏ ÏûëÏÑ±
          </label>
          <textarea
            id="note-textarea"
            className="note-textarea"
            placeholder="Ïù¥ Íµ¨Ï†àÏùÑ ÌÜµÌï¥ Î∞õÏùÄ ÏùÄÌòúÎÇò Íπ®Îã¨ÏùåÏùÑ Í∏∞Î°ùÌï¥Î≥¥ÏÑ∏Ïöî..."
            value={note}
            onChange={(e) => setNote(e.target.value)}
            rows={6}
            maxLength={500}
            autoFocus
          />
          <div className="character-count">
            {note.length}/500
          </div>
        </div>
        
        <div className="note-suggestions">
          <h6>üí° Î¨µÏÉÅ Í∞ÄÏù¥Îìú</h6>
          <div className="suggestion-tags">
            <button 
              className="suggestion-tag"
              onClick={() => setNote(prev => `${prev}\n\nüéØ Ï†ÅÏö©Ï†ê: `)}
            >
              Ï†ÅÏö©Ï†ê
            </button>
            <button 
              className="suggestion-tag"
              onClick={() => setNote(prev => `${prev}\n\nüôè Í∏∞ÎèÑÏ†úÎ™©: `)}
            >
              Í∏∞ÎèÑÏ†úÎ™©
            </button>
            <button 
              className="suggestion-tag"
              onClick={() => setNote(prev => `${prev}\n\n‚ù§Ô∏è Í∞êÏÇ¨: `)}
            >
              Í∞êÏÇ¨
            </button>
            <button 
              className="suggestion-tag"
              onClick={() => setNote(prev => `${prev}\n\nü§î ÏßàÎ¨∏: `)}
            >
              ÏßàÎ¨∏
            </button>
          </div>
        </div>
        
        <div className="dialog-actions">
          <Button 
            variant="ghost" 
            onClick={onCancel}
            disabled={isSaving}
          >
            Ï∑®ÏÜå
          </Button>
          <Button 
            variant="primary" 
            onClick={handleSave}
            loading={isSaving}
            disabled={!note.trim()}
          >
            Ï†ÄÏû•
          </Button>
        </div>
      </div>
    </Modal>
  );
};
```

---

## üìä **5. ÏßÑÎèÑ Ï∂îÏ†Å ÏãúÏä§ÌÖú**

### **5-1. ÏùΩÍ∏∞ ÏßÑÎèÑ Ï∂îÏ†Å Î°úÏßÅ**
```typescript
interface ReadingSession {
  id: string;
  bookId: string;
  chapterNumber: number;
  startTime: Date;
  endTime?: Date;
  readingDuration: number; // seconds
  listeningDuration: number; // seconds
  completionPercentage: number; // 0-100
  scrollProgress: number; // 0-100
  versesRead: number[];
  mode: ReadingMode;
  completed: boolean;
}

const useReadingProgress = (bookId: string, chapterNumber: number) => {
  const [session, setSession] = useState<ReadingSession | null>(null);
  const [isTracking, setIsTracking] = useState(false);
  
  // Initialize session when component mounts
  useEffect(() => {
    const newSession: ReadingSession = {
      id: crypto.randomUUID(),
      bookId,
      chapterNumber,
      startTime: new Date(),
      readingDuration: 0,
      listeningDuration: 0,
      completionPercentage: 0,
      scrollProgress: 0,
      versesRead: [],
      mode: 'verse',
      completed: false
    };
    
    setSession(newSession);
    setIsTracking(true);
  }, [bookId, chapterNumber]);

  // Track scroll progress
  const updateScrollProgress = useCallback((scrollPercentage: number) => {
    if (session && isTracking) {
      setSession(prev => prev ? {
        ...prev,
        scrollProgress: Math.max(prev.scrollProgress, scrollPercentage),
        completionPercentage: Math.max(prev.completionPercentage, scrollPercentage * 0.8) // 80% weight for scroll
      } : null);
    }
  }, [session, isTracking]);

  // Track verse interaction
  const markVerseRead = useCallback((verseNumber: number) => {
    if (session && isTracking) {
      setSession(prev => {
        if (!prev) return null;
        
        const newVersesRead = prev.versesRead.includes(verseNumber) 
          ? prev.versesRead 
          : [...prev.versesRead, verseNumber];
          
        const readPercentage = (newVersesRead.length / totalVerses) * 100;
        
        return {
          ...prev,
          versesRead: newVersesRead,
          completionPercentage: Math.max(prev.completionPercentage, readPercentage)
        };
      });
    }
  }, [session, isTracking]);

  // Track reading time
  useEffect(() => {
    if (!isTracking || !session) return;

    const interval = setInterval(() => {
      setSession(prev => prev ? {
        ...prev,
        readingDuration: prev.readingDuration + 1
      } : null);
    }, 1000);

    return () => clearInterval(interval);
  }, [isTracking, session]);

  // Save session when unmounting or completing
  const completeSession = useCallback(async () => {
    if (session) {
      const completedSession = {
        ...session,
        endTime: new Date(),
        completed: session.completionPercentage >= 90 // 90% threshold for completion
      };
      
      // Save to Supabase
      await saveReadingSession(completedSession);
      setIsTracking(false);
    }
  }, [session]);

  return {
    session,
    updateScrollProgress,
    markVerseRead,
    completeSession,
    isTracking
  };
};
```

### **5-2. Ïã§ÏãúÍ∞Ñ ÏßÑÎèÑ ÌëúÏãú Ïª¥Ìè¨ÎÑåÌä∏**
```typescript
interface ProgressIndicatorProps {
  session: ReadingSession | null;
  totalVerses: number;
  currentVerse?: number;
}

const ProgressIndicator: React.FC<ProgressIndicatorProps> = ({
  session,
  totalVerses,
  currentVerse
}) => {
  const [isVisible, setIsVisible] = useState(true);
  
  if (!session) return null;

  const readingProgress = (session.versesRead.length / totalVerses) * 100;
  const timeProgress = Math.min((session.readingDuration / 600) * 100, 100); // 10Î∂Ñ Í∏∞Ï§Ä
  const overallProgress = session.completionPercentage;

  return (
    <div className={`progress-indicator ${isVisible ? 'visible' : 'hidden'}`}>
      {/* Top Progress Bar */}
      <div className="top-progress-bar">
        <div 
          className="progress-fill"
          style={{ width: `${overallProgress}%` }}
        />
      </div>
      
      {/* Detailed Progress Panel */}
      <div className="progress-panel">
        <button 
          className="toggle-btn"
          onClick={() => setIsVisible(!isVisible)}
          aria-label={isVisible ? "ÏßÑÎèÑ Ìå®ÎÑê Ïà®Í∏∞Í∏∞" : "ÏßÑÎèÑ Ìå®ÎÑê Î≥¥Í∏∞"}
        >
          <Icon name={isVisible ? "chevronUp" : "chevronDown"} size="sm" />
        </button>
        
        {isVisible && (
          <div className="progress-details">
            {/* Reading Stats */}
            <div className="progress-stat">
              <div className="stat-icon">üìñ</div>
              <div className="stat-content">
                <div className="stat-label">ÏùΩÏùÄ Íµ¨Ï†à</div>
                <div className="stat-value">
                  {session.versesRead.length} / {totalVerses}
                </div>
                <div className="stat-bar">
                  <div 
                    className="stat-fill reading"
                    style={{ width: `${readingProgress}%` }}
                  />
                </div>
              </div>
            </div>
            
            {/* Time Stats */}
            <div className="progress-stat">
              <div className="stat-icon">‚è±Ô∏è</div>
              <div className="stat-content">
                <div className="stat-label">ÏùΩÍ∏∞ ÏãúÍ∞Ñ</div>
                <div className="stat-value">
                  {Math.floor(session.readingDuration / 60)}Î∂Ñ {session.readingDuration % 60}Ï¥à
                </div>
                <div className="stat-bar">
                  <div 
                    className="stat-fill time"
                    style={{ width: `${timeProgress}%` }}
                  />
                </div>
              </div>
            </div>
            
            {/* Audio Stats */}
            {session.listeningDuration > 0 && (
              <div className="progress-stat">
                <div className="stat-icon">üéµ</div>
                <div className="stat-content">
                  <div className="stat-label">Îì£Í∏∞ ÏãúÍ∞Ñ</div>
                  <div className="stat-value">
                    {Math.floor(session.listeningDuration / 60)}Î∂Ñ {session.listeningDuration % 60}Ï¥à
                  </div>
                </div>
              </div>
            )}
            
            {/* Completion Prediction */}
            <div className="completion-prediction">
              {overallProgress >= 90 ? (
                <div className="completion-ready">
                  üéâ ÏôÑÎèÖ Îã¨ÏÑ±! 
                  <button className="mark-complete-btn">
                    ÏôÑÎ£å ÌëúÏãú
                  </button>
                </div>
              ) : (
                <div className="completion-progress">
                  ÏôÑÎèÖÍπåÏßÄ {100 - Math.round(overallProgress)}% ÎÇ®Ïùå
                </div>
              )}
            </div>
          </div>
        )}
      </div>
    </div>
  );
};
```

### **5-3. Ïä§ÌÅ¨Î°§ Í∏∞Î∞ò ÏßÑÎèÑ Ï∂îÏ†Å**
```typescript
const useScrollProgress = (onProgressUpdate: (progress: number) => void) => {
  const containerRef = useRef<HTMLDivElement>(null);
  const [progress, setProgress] = useState(0);

  useEffect(() => {
    const container = containerRef.current;
    if (!container) return;

    const handleScroll = throttle(() => {
      const { scrollTop, scrollHeight, clientHeight } = container;
      const maxScroll = scrollHeight - clientHeight;
      
      if (maxScroll <= 0) {
        setProgress(100);
        onProgressUpdate(100);
        return;
      }
      
      const scrollProgress = (scrollTop / maxScroll) * 100;
      const clampedProgress = Math.min(Math.max(scrollProgress, 0), 100);
      
      setProgress(clampedProgress);
      onProgressUpdate(clampedProgress);
    }, 100);

    container.addEventListener('scroll', handleScroll, { passive: true });
    
    return () => {
      container.removeEventListener('scroll', handleScroll);
    };
  }, [onProgressUpdate]);

  return { containerRef, progress };
};

// Throttle utility function
function throttle<T extends (...args: any[]) => any>(
  func: T,
  delay: number
): (...args: Parameters<T>) => void {
  let timeoutId: ReturnType<typeof setTimeout> | undefined;
  let lastExecTime = 0;
  
  return (...args: Parameters<T>) => {
    const currentTime = Date.now();
    
    if (currentTime - lastExecTime > delay) {
      func(...args);
      lastExecTime = currentTime;
    } else {
      clearTimeout(timeoutId);
      timeoutId = setTimeout(() => {
        func(...args);
        lastExecTime = Date.now();
      }, delay - (currentTime - lastExecTime));
    }
  };
}
```

---

## üì± **6. Î∞òÏùëÌòï ÏµúÏ†ÅÌôî**

### **6-1. Î™®Î∞îÏùº ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò**
```typescript
const MobileNavigation: React.FC<{
  selectedBook: BibleBook;
  currentChapter: number;
  onBookChange: (book: BibleBook) => void;
  onChapterChange: (chapter: number) => void;
}> = ({ selectedBook, currentChapter, onBookChange, onChapterChange }) => {
  const [showBookSelector, setShowBookSelector] = useState(false);
  const [showChapterSelector, setShowChapterSelector] = useState(false);

  return (
    <div className="mobile-navigation">
      {/* Bottom Tab Bar */}
      <div className="mobile-tab-bar">
        <button 
          className="tab-btn"
          onClick={() => setShowBookSelector(true)}
        >
          <Icon name="book" size="sm" />
          <span>Ï±Ö ÏÑ†ÌÉù</span>
        </button>
        
        <button 
          className="tab-btn"
          onClick={() => setShowChapterSelector(true)}
        >
          <Icon name="list" size="sm" />
          <span>Ïû• ÏÑ†ÌÉù</span>
        </button>
        
        <button className="tab-btn">
          <Icon name="bookmark" size="sm" />
          <span>Ï±ÖÍ∞àÌîº</span>
        </button>
        
        <button className="tab-btn">
          <Icon name="heart" size="sm" />
          <span>ÌïòÏù¥ÎùºÏù¥Ìä∏</span>
        </button>
      </div>
      
      {/* Book Selector Modal */}
      <Modal
        isOpen={showBookSelector}
        onClose={() => setShowBookSelector(false)}
        title="ÏÑ±Í≤Ω ÏÑ†ÌÉù"
        size="full"
      >
        <MobileBookSelector 
          onSelect={(book) => {
            onBookChange(book);
            setShowBookSelector(false);
          }}
        />
      </Modal>
      
      {/* Chapter Selector Modal */}
      <Modal
        isOpen={showChapterSelector}
        onClose={() => setShowChapterSelector(false)}
        title={`${selectedBook.name} Ïû• ÏÑ†ÌÉù`}
        size="lg"
      >
        <MobileChapterSelector 
          book={selectedBook}
          currentChapter={currentChapter}
          onSelect={(chapter) => {
            onChapterChange(chapter);
            setShowChapterSelector(false);
          }}
        />
      </Modal>
    </div>
  );
};
```

### **6-2. ÌÑ∞Ïπò Ï†úÏä§Ï≤ò ÏßÄÏõê**
```typescript
const useTouchGestures = (
  onSwipeLeft: () => void,
  onSwipeRight: () => void,
  onDoubleTap: () => void
) => {
  const [touchStart, setTouchStart] = useState<TouchEvent['touches'][0] | null>(null);
  const [lastTap, setLastTap] = useState<number>(0);

  const handleTouchStart = (e: TouchEvent) => {
    setTouchStart(e.touches[0]);
  };

  const handleTouchEnd = (e: TouchEvent) => {
    if (!touchStart) return;

    const touchEnd = e.changedTouches[0];
    const deltaX = touchStart.clientX - touchEnd.clientX;
    const deltaY = touchStart.clientY - touchEnd.clientY;
    
    // Swipe detection (minimum 50px horizontal movement, less than 100px vertical)
    if (Math.abs(deltaX) > 50 && Math.abs(deltaY) < 100) {
      if (deltaX > 0) {
        onSwipeLeft(); // Next chapter
      } else {
        onSwipeRight(); // Previous chapter
      }
    }
    
    // Double tap detection
    const now = Date.now();
    if (now - lastTap < 300) {
      onDoubleTap();
    }
    setLastTap(now);
    
    setTouchStart(null);
  };

  return { handleTouchStart, handleTouchEnd };
};
```

---

## üíæ **7. Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨ Î∞è API**

### **7-1. HTML ÌååÏùº Î†åÎçîÎßÅ API**
```typescript
// api/bible.ts
export interface BibleChapterData {
  id: string;
  book_id: string;
  chapter_number: number;
  html_content: string;
  metadata: {
    title: string;
    subtitle?: string;
    total_verses: number;
  };
}

export const fetchBibleChapter = async (
  bookId: string, 
  chapterNumber: number
): Promise<BibleChapterData> => {
  const { data, error } = await supabase
    .from('rb_bible_chapters')
    .select(`
      *,
      bible_book:rb_bible_books(*)
    `)
    .eq('book_id', bookId)
    .eq('chapter_number', chapterNumber)
    .eq('status', 'published')
    .single();

  if (error) throw error;
  
  return {
    id: data.id,
    book_id: data.book_id,
    chapter_number: data.chapter_number,
    html_content: data.html_content,
    metadata: {
      title: data.title,
      subtitle: data.subtitle || '',
      total_verses: data.total_verses || 0
    }
  };
};

export const getChapterNavigation = async (
  bookId: string, 
  currentChapter: number
) => {
  const { data: chapters, error } = await supabase
    .from('rb_bible_chapters')
    .select('chapter_number')
    .eq('book_id', bookId)
    .order('chapter_number');

  if (error) throw error;
  
  const chapterNumbers = chapters.map(c => c.chapter_number);
  const currentIndex = chapterNumbers.indexOf(currentChapter);
  
  return {
    hasPrevious: currentIndex > 0,
    hasNext: currentIndex < chapterNumbers.length - 1,
    previousChapter: currentIndex > 0 ? chapterNumbers[currentIndex - 1] : null,
    nextChapter: currentIndex < chapterNumbers.length - 1 ? chapterNumbers[currentIndex + 1] : null
  };
};
      verses_read: session.versesRead
    });

  if (error) throw error;
};

export const fetchReadingProgress = async (
  bookId: string
): Promise<Record<number, any>> => {
  const { data, error } = await supabase
    .from('rb_reading_progress')
    .select('*')
    .eq('user_id', getUserSession())
    .eq('book_id', bookId);

  if (error) throw error;
  
  return data.reduce((acc, item) => {
    acc[item.chapter_number] = {
      readingCompleted: item.reading_completed,
      listeningCompleted: item.listening_completed,
      completionPercentage: item.completion_percentage
    };
    return acc;
  }, {});
};
```

### **7-2. Ïã§ÏãúÍ∞Ñ Îç∞Ïù¥ÌÑ∞ ÎèôÍ∏∞Ìôî**
```typescript
// hooks/useRealtimeProgress.ts
export const useRealtimeProgress = (bookId: string) => {
  const [progress, setProgress] = useState<Record<number, any>>({});

  useEffect(() => {
    // Initial data fetch
    fetchReadingProgress(bookId).then(setProgress);

    // Subscribe to real-time updates
    const subscription = supabase
      .channel(`progress:${bookId}`)
      .on(
        'postgres_changes',
        {
          event: '*',
          schema: 'public',
          table: 'rb_reading_progress',
          filter: `book_id=eq.${bookId}`
        },
        (payload) => {
          if (payload.eventType === 'INSERT' || payload.eventType === 'UPDATE') {
            setProgress(prev => ({
              ...prev,
              [payload.new.chapter_number]: {
                readingCompleted: payload.new.reading_completed,
                listeningCompleted: payload.new.listening_completed,
                completionPercentage: payload.new.completion_percentage
              }
            }));
          }
        }
      )
      .subscribe();

    return () => {
      subscription.unsubscribe();
    };
  }, [bookId]);

  return progress;
};
```

---

## ‚úÖ **Íµ¨ÌòÑ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏**

### **ÌôòÍ≤Ω ÏÑ§Ï†ï Î∞è ÏùòÏ°¥ÏÑ±**
- [ ] shadcn/ui ÏÑ§Ïπò Î∞è Ï¥àÍ∏∞ ÏÑ§Ï†ï
- [ ] ÎèÖÎ¶ΩÏ†Å Îç∞Ïù¥ÌÑ∞ Î™®Îç∏ ÌÉÄÏûÖ Ï†ïÏùò (`types/bible-reading.ts`)
- [ ] ÎèÖÎ¶ΩÏ†Å Supabase ÌÖåÏù¥Î∏î Ïä§ÌÇ§Îßà ÏÉùÏÑ±
- [ ] ÎèôÏ†Å ÎùºÏö∞ÌåÖ Íµ¨Ï°∞ ÏÑ§Ï†ï (`/read/[book]/[chapter]`)

### **ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏãúÏä§ÌÖú**
- [ ] Ïã†/Íµ¨ÏïΩ ÌÜ†Í∏Ä Ïä§ÏúÑÏπò Íµ¨ÌòÑ
- [ ] ÏÑ±Í≤Ω Ï±Ö Ïπ¥Îìú Í∑∏Î¶¨Îìú Î†àÏù¥ÏïÑÏõÉ
- [ ] Ïû•Î≥Ñ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò (ÏôÑÎ£å ÏÉÅÌÉú ÌëúÏãú)
- [ ] Í∞úÏù∏ ÏßÑÎèÑ ÎåÄÏãúÎ≥¥Îìú Íµ¨ÌòÑ
- [ ] Î™®Î∞îÏùº ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Ï†ÅÏùë

### **Ïò§ÎîîÏò§ ÏãúÏä§ÌÖú**
- [ ] TTS ÏóîÏßÑ ÌÜµÌï© (Web Speech API)
- [ ] Ïò§ÎîîÏò§ ÌîåÎ†àÏù¥Ïñ¥ Ïª®Ìä∏Î°§
- [ ] ÏùåÏÑ± ÏÑ§Ï†ï Ìå®ÎÑê Íµ¨ÌòÑ
- [ ] Íµ¨Ï†àÎ≥Ñ ÏûêÎèô Ïû¨ÏÉù Í∏∞Îä•
- [ ] Ï∑®Ïπ® ÌÉÄÏù¥Î®∏ Í∏∞Îä•

### **Î≥∏Î¨∏ ÌëúÏãú ÏãúÏä§ÌÖú**
- [ ] 3Í∞ÄÏßÄ ÏùΩÍ∏∞ Î™®Îìú Íµ¨ÌòÑ
- [ ] Î∞òÏùëÌòï Ìè∞Ìä∏ ÌÅ¨Í∏∞ Ï°∞Ï†à
- [ ] Íµ¨Ï†àÎ≥Ñ ÏÉÅÌò∏ÏûëÏö© Í∏∞Îä•
- [ ] ÌïòÏù¥ÎùºÏù¥Ìä∏ ÏãúÏä§ÌÖú Íµ¨ÌòÑ
- [ ] ÎÖ∏Ìä∏ ÏûëÏÑ± Îã§Ïù¥ÏñºÎ°úÍ∑∏

### **ÏßÑÎèÑ Ï∂îÏ†Å ÏãúÏä§ÌÖú**
- [ ] Ïä§ÌÅ¨Î°§ Í∏∞Î∞ò ÏßÑÎèÑ Ï∂îÏ†Å
- [ ] ÏùΩÍ∏∞ ÏãúÍ∞Ñ Ï∏°Ï†ï
- [ ] ÏôÑÎ£å Ï≤¥ÌÅ¨ Î°úÏßÅ Íµ¨ÌòÑ
- [ ] Ïã§ÏãúÍ∞Ñ ÏßÑÎèÑ ÌëúÏãú
- [ ] Supabase Îç∞Ïù¥ÌÑ∞ ÎèôÍ∏∞Ìôî

### **ÎèÖÎ¶ΩÏ†Å FileUpload ÏãúÏä§ÌÖú**
- [ ] READ ÌéòÏù¥ÏßÄ Ï†ÑÏö© FileUpload Ïª¥Ìè¨ÎÑåÌä∏
- [ ] ÏÑ±Í≤Ω ÏΩòÌÖêÏ∏† ÌäπÌôî ÏóÖÎ°úÎìú Í∏∞Îä•
- [ ] Ïã§ÏãúÍ∞Ñ ÎØ∏Î¶¨Î≥¥Í∏∞ Î∞è Í≤ÄÏ¶ù
- [ ] ÏóÖÎ°úÎìú ÏßÑÌñâÎ•† ÌëúÏãú
- [ ] ÏóêÎü¨ Ï≤òÎ¶¨ Î∞è Î≥µÍµ¨ Í∏∞Îä•

### **Î∞òÏùëÌòï ÏµúÏ†ÅÌôî**
- [ ] Î™®Î∞îÏùº ÌÑ∞Ïπò Ï†úÏä§Ï≤ò ÏßÄÏõê
- [ ] ÌÉúÎ∏îÎ¶ø Î†àÏù¥ÏïÑÏõÉ ÏµúÏ†ÅÌôî
- [ ] Ï†ëÍ∑ºÏÑ± ÌÇ§Î≥¥Îìú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
- [ ] ÏÑ±Îä• ÏµúÏ†ÅÌôî (lazy loading)

### **Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨**
- [ ] ÎèÖÎ¶ΩÏ†Å Supabase ÏøºÎ¶¨ Ìï®Ïàò Íµ¨ÌòÑ
- [ ] Ïã§ÏãúÍ∞Ñ Îç∞Ïù¥ÌÑ∞ ÎèôÍ∏∞Ìôî
- [ ] Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄ Î∞±ÏóÖ
- [ ] Ïò§ÌîÑÎùºÏù∏ Î™®Îìú ÏßÄÏõê

---

## üéØ **Îã§Ïùå Îã®Í≥Ñ**

ÏÑ±Í≤ΩÏùΩÍ∏∞ ÌéòÏù¥ÏßÄ ÏÑ§Í≥Ñ ÏôÑÎ£å ÌõÑ Îã§Ïùå ÏàúÏÑúÎ°ú ÏßÑÌñâ:

1. **shadcn/ui ÌôòÍ≤Ω ÏÑ§Ï†ï** - UI Ïª¥Ìè¨ÎÑåÌä∏ ÎùºÏù¥Î∏åÎü¨Î¶¨ ÏÑ§Ïπò Î∞è ÏÑ§Ï†ï
2. **ÎèÖÎ¶ΩÏ†Å Îç∞Ïù¥ÌÑ∞ Î™®Îç∏ Íµ¨ÌòÑ** - ÌÉÄÏûÖ Ï†ïÏùò Î∞è Supabase ÌÖåÏù¥Î∏î ÏÉùÏÑ±
3. **ÎèôÏ†Å ÎùºÏö∞ÌåÖ Íµ¨Ï°∞ Íµ¨Ï∂ï** - `/read/[book]/[chapter]` ÎùºÏö∞ÌåÖ Íµ¨ÌòÑ
4. **04-Îç∞Ïù¥ÌÑ∞Í¥ÄÎ¶¨-PRD.md** - Í¥ÄÎ¶¨Ïûê ÎèÑÍµ¨ Î∞è ÏΩòÌÖêÏ∏† Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú
5. **03-ÏÑ±Í≤ΩÏûêÎ£åÏã§-PRD.md** - HTML Ìé∏ÏßëÍ∏∞ Î∞è ÏûêÎ£å Í¥ÄÎ¶¨ Í∏∞Îä•
6. **01-HOME-PRD.md** - ÌÜµÌï© ÎåÄÏãúÎ≥¥Îìú Î∞è Î∂ÑÏÑù Í∏∞Îä•

---

**üìã Î¨∏ÏÑú ÏÉÅÌÉú**: ‚úÖ **ÏôÑÎ£å** - ÏÑ±Í≤ΩÏùΩÍ∏∞ ÌéòÏù¥ÏßÄ ÏÉÅÏÑ∏ ÏÑ§Í≥Ñ ÌôïÏ†ï (v2.0.0)  
**üéØ ÌïµÏã¨ Í∏∞Îä•**: ÏùΩÍ∏∞/Îì£Í∏∞/ÏßÑÎèÑÏ∂îÏ†Å ÌÜµÌï© ÏôÑÏÑ±  
**üì± ÏÇ¨Ïö©Ïûê Í≤ΩÌóò**: Î™∞ÏûÖÌòï ÏÑ±Í≤Ω ÏùΩÍ∏∞ ÌôòÍ≤Ω Íµ¨Ï∂ï  
**üîß Í∏∞Ïà† Ïä§ÌÉù**: Next.js 15, React 19, TypeScript, Tailwind CSS, Supabase, shadcn/ui  
**üìÖ Îã§Ïùå Î¶¨Î∑∞**: shadcn/ui ÌôòÍ≤Ω ÏÑ§Ï†ï ÏôÑÎ£å ÌõÑ

---

## üìñ **ÏÑ±Í≤ΩÏùΩÍ∏∞Ïö© ÌïúÍ∏Ä ÏÑ±Í≤Ω Î≥∏Î¨∏ ÌÖçÏä§Ìä∏ ÏÜåÏä§**

### **1. ÌÖçÏä§Ìä∏ ÏÜåÏä§ ÌòïÌÉú Î∞è Íµ¨Ï°∞**

#### **1-1. Í∂åÏû• ÌÖçÏä§Ìä∏ ÏÜåÏä§**
- **Í∞úÏó≠Í∞úÏ†ïÌåê (KRV)**: Í∞ÄÏû• ÎÑêÎ¶¨ ÏÇ¨Ïö©ÎêòÎäî ÌïúÍ∏Ä ÏÑ±Í≤Ω Î≤àÏó≠Î≥∏
- **ÏÉàÎ≤àÏó≠ (NIV)**: ÌòÑÎåÄÏ†ÅÏù¥Í≥† ÏùΩÍ∏∞ Ïâ¨Ïö¥ Î≤àÏó≠
- **Í≥µÎèôÎ≤àÏó≠**: Ï≤úÏ£ºÍµêÏôÄ Í∞úÏã†ÍµêÍ∞Ä Í≥µÎèôÏúºÎ°ú Î≤àÏó≠Ìïú ÏÑ±Í≤Ω
- **ÌëúÏ§ÄÏÉàÎ≤àÏó≠ (KSB)**: ÌïúÍµ≠ÏÑ±ÏÑúÍ≥µÌöåÏóêÏÑú Î∞úÌñâÌïú ÌòÑÎåÄÏ†Å Î≤àÏó≠

#### **1-2. ÌÖçÏä§Ìä∏ Íµ¨Ï°∞ ÏöîÍµ¨ÏÇ¨Ìï≠**
```html
<!-- Í∂åÏû• HTML Íµ¨Ï°∞ -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ï∞ΩÏÑ∏Í∏∞ 1Ïû•</title>
    <meta name="book" content="Ï∞ΩÏÑ∏Í∏∞">
    <meta name="chapter" content="1">
    <meta name="translation" content="Í∞úÏó≠Í∞úÏ†ï">
</head>
<body>
    <div class="bible-chapter">
        <header class="chapter-header">
            <h1 class="chapter-title">Ï∞ΩÏÑ∏Í∏∞ 1Ïû•</h1>
            <p class="chapter-subtitle">Ï≤úÏßÄ Ï∞ΩÏ°∞</p>
        </header>
        
        <div class="verses-container">
            <div class="verse" data-verse="1">
                <span class="verse-number">1</span>
                <span class="verse-text">ÌÉúÏ¥àÏóê ÌïòÎÇòÎãòÏù¥ Ï≤úÏßÄÎ•º Ï∞ΩÏ°∞ÌïòÏãúÎãàÎùº</span>
            </div>
            
            <div class="verse" data-verse="2">
                <span class="verse-number">2</span>
                <span class="verse-text">ÎïÖÏù¥ ÌòºÎèàÌïòÍ≥† Í≥µÌóàÌïòÎ©∞ ÌùëÏïîÏù¥ ÍπäÏùå ÏúÑÏóê ÏûàÍ≥† ÌïòÎÇòÎãòÏùò ÏòÅÏùÄ ÏàòÎ©¥ ÏúÑÏóê Ïö¥ÌñâÌïòÏãúÎãàÎùº</span>
            </div>
            
            <!-- Ï∂îÍ∞Ä Íµ¨Ï†àÎì§... -->
        </div>
        
        <footer class="chapter-footer">
            <p class="reading-info">ÏòàÏÉÅ ÏùΩÍ∏∞ ÏãúÍ∞Ñ: 3Î∂Ñ | Ï¥ù 31Íµ¨Ï†à</p>
        </footer>
    </div>
</body>
</html>
```

#### **1-3. Íµ¨Ï†àÎ≥Ñ Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞**
```typescript
interface VerseData {
  number: number;           // Íµ¨Ï†à Î≤àÌò∏
  text: string;            // Íµ¨Ï†à Î≥∏Î¨∏
  reference: string;       // ÏÑ±Í≤Ω Ï∞∏Ï°∞ (Ïòà: "Ï∞Ω 1:1")
  paragraph?: number;      // Î¨∏Îã® Íµ¨Î∂Ñ (ÏÑ†ÌÉùÏÇ¨Ìï≠)
  section?: string;        // ÏÑπÏÖò Ï†úÎ™© (ÏÑ†ÌÉùÏÇ¨Ìï≠)
}
```

### **2. ÌÖçÏä§Ìä∏ ÏÜåÏä§ Ï§ÄÎπÑ Î∞©Î≤ï**

#### **2-1. Í∏∞Ï°¥ ÏÑ±Í≤Ω ÌÖçÏä§Ìä∏ ÌôúÏö©**
```typescript
// Í∏∞Ï°¥ ÏÑ±Í≤Ω ÌååÏùºÏóêÏÑú ÌÖçÏä§Ìä∏ Ï∂îÏ∂ú Î∞è Î≥ÄÌôò
const convertExistingBibleText = (htmlContent: string): VerseData[] => {
  const parser = new DOMParser();
  const doc = parser.parseFromString(htmlContent, 'text/html');
  
  const verses: VerseData[] = [];
  const verseElements = doc.querySelectorAll('.verse, [data-verse], p');
  
  verseElements.forEach((element, index) => {
    const verseNumber = parseInt(element.getAttribute('data-verse') || (index + 1).toString());
    const verseText = element.textContent?.trim() || '';
    
    if (verseText) {
      verses.push({
        number: verseNumber,
        text: verseText,
        reference: `Ï∞Ω ${1}:${verseNumber}` // ÎèôÏ†ÅÏúºÎ°ú ÏÉùÏÑ±
      });
    }
  });
  
  return verses;
};
```

#### **2-2. ÌÖçÏä§Ìä∏ Ï†ïÏ†ú Î∞è ÌëúÏ§ÄÌôî**
```typescript
// ÌÖçÏä§Ìä∏ Ï†ïÏ†ú Ìï®Ïàò
const sanitizeBibleText = (text: string): string => {
  return text
    .replace(/\s+/g, ' ')           // Ïó∞ÏÜç Í≥µÎ∞± Ï†úÍ±∞
    .replace(/[^\w\sÍ∞Ä-Ìû£.,!?;:()]/g, '') // ÌäπÏàòÎ¨∏Ïûê Ï†ïÎ¶¨
    .trim();
};

// Íµ¨Ï†à Î≤àÌò∏ Ï∂îÏ∂ú Ìï®Ïàò
const extractVerseNumber = (text: string): { number: number; cleanText: string } => {
  const verseMatch = text.match(/^(\d+)\s*[.„ÄÇ]\s*(.+)$/);
  if (verseMatch) {
    return {
      number: parseInt(verseMatch[1]),
      cleanText: sanitizeBibleText(verseMatch[2])
    };
  }
  
  // Íµ¨Ï†à Î≤àÌò∏Í∞Ä ÏóÜÎäî Í≤ΩÏö∞ Ï≤òÎ¶¨
  return {
    number: 0,
    cleanText: sanitizeBibleText(text)
  };
};
```

### **3. ÌÖçÏä§Ìä∏ ÏÜåÏä§ Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú**

#### **3-1. ÌååÏùºÎ™Ö Í∑úÏπô**
```
bible-content/
‚îú‚îÄ‚îÄ old-testament/
‚îÇ   ‚îú‚îÄ‚îÄ genesis/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 01-genesis-01.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 02-genesis-02.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ exodus/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 01-exodus-01.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ new-testament/
    ‚îú‚îÄ‚îÄ matthew/
    ‚îÇ   ‚îú‚îÄ‚îÄ 01-matthew-01.html
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ ...
```

**ÌååÏùºÎ™Ö Î™ÖÎ™Ö Í∑úÏπô:**
- **ÌòïÏãù**: `{Ïû•Î≤àÌò∏}-{Ï±ÖÎ™ÖÏòÅÎ¨∏}-{Ïû•Î≤àÌò∏}.html`
- **ÏòàÏãú**: `01-genesis-01.html`, `05-matthew-05.html`
- **Í∑úÏπô**: Ï†ëÎëêÏÇ¨ÏôÄ Ïû• Î≤àÌò∏Í∞Ä ÎèôÏùºÌïú Ïà´Ïûê ÌòïÏãù ÏÇ¨Ïö©

#### **3-2. Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞**
```json
{
  "book": {
    "name": "Ï∞ΩÏÑ∏Í∏∞",
    "nameEnglish": "genesis",
    "abbreviation": "Ï∞Ω",
    "category": "old-testament",
    "totalChapters": 50,
    "order": 1
  },
  "chapter": {
    "number": 1,
    "title": "Ï≤úÏßÄ Ï∞ΩÏ°∞",
    "subtitle": "ÌïòÎÇòÎãòÏùò Ï∞ΩÏ°∞ ÏÇ¨Ïó≠",
    "estimatedReadingTime": 3,
    "wordCount": 450,
    "verseCount": 31
  },
  "translation": {
    "name": "Í∞úÏó≠Í∞úÏ†ï",
    "abbreviation": "KRV",
    "year": 1998,
    "publisher": "ÎåÄÌïúÏÑ±ÏÑúÍ≥µÌöå"
  }
}
```

### **4. ÌÖçÏä§Ìä∏ ÌíàÏßà Í¥ÄÎ¶¨**

#### **4-1. ÏûêÎèô Í≤ÄÏ¶ù ÏãúÏä§ÌÖú**
```typescript
interface TextValidationResult {
  isValid: boolean;
  errors: string[];
  warnings: string[];
  statistics: {
    totalVerses: number;
    totalWords: number;
    averageWordsPerVerse: number;
    missingVerses: number[];
  };
}

const validateBibleText = (verses: VerseData[], expectedVerseCount: number): TextValidationResult => {
  const result: TextValidationResult = {
    isValid: true,
    errors: [],
    warnings: [],
    statistics: {
      totalVerses: verses.length,
      totalWords: 0,
      averageWordsPerVerse: 0,
      missingVerses: []
    }
  };
  
  // Íµ¨Ï†à Ïàò Í≤ÄÏ¶ù
  if (verses.length !== expectedVerseCount) {
    result.errors.push(`Íµ¨Ï†à Ïàò Î∂àÏùºÏπò: ÏòàÏÉÅ ${expectedVerseCount}Í∞ú, Ïã§Ï†ú ${verses.length}Í∞ú`);
    result.isValid = false;
  }
  
  // Íµ¨Ï†à Î≤àÌò∏ Ïó∞ÏÜçÏÑ± Í≤ÄÏ¶ù
  const verseNumbers = verses.map(v => v.number).sort((a, b) => a - b);
  for (let i = 1; i <= expectedVerseCount; i++) {
    if (!verseNumbers.includes(i)) {
      result.statistics.missingVerses.push(i);
      result.errors.push(`ÎàÑÎùΩÎêú Íµ¨Ï†à: ${i}Ï†à`);
      result.isValid = false;
    }
  }
  
  // ÌÖçÏä§Ìä∏ ÌíàÏßà Í≤ÄÏ¶ù
  verses.forEach(verse => {
    if (verse.text.length < 5) {
      result.warnings.push(`${verse.number}Ï†à: ÌÖçÏä§Ìä∏Í∞Ä ÎÑàÎ¨¥ ÏßßÏäµÎãàÎã§`);
    }
    
    if (verse.text.length > 500) {
      result.warnings.push(`${verse.number}Ï†à: ÌÖçÏä§Ìä∏Í∞Ä ÎÑàÎ¨¥ ÍπÅÎãàÎã§`);
    }
    
    result.statistics.totalWords += verse.text.split(/\s+/).length;
  });
  
  result.statistics.averageWordsPerVerse = 
    Math.round(result.statistics.totalWords / verses.length);
  
  return result;
};
```

#### **4-2. ÌÖçÏä§Ìä∏ Ï†ïÍ∑úÌôî**
```typescript
// Íµ¨Ï†à ÌÖçÏä§Ìä∏ Ï†ïÍ∑úÌôî
const normalizeVerseText = (text: string): string => {
  return text
    .replace(/[^\w\sÍ∞Ä-Ìû£.,!?;:()]/g, '') // ÌäπÏàòÎ¨∏Ïûê Ï†úÍ±∞
    .replace(/\s+/g, ' ')                 // Í≥µÎ∞± Ï†ïÎ¶¨
    .replace(/^[\d\s.„ÄÇ]+/, '')           // ÏïûÏ™Ω Íµ¨Ï†à Î≤àÌò∏ Ï†úÍ±∞
    .trim();
};

// Ï∞∏Ï°∞ ÌòïÏãù ÌëúÏ§ÄÌôî
const normalizeReference = (book: string, chapter: number, verse: number): string => {
  const bookAbbr = getBookAbbreviation(book);
  return `${bookAbbr} ${chapter}:${verse}`;
};
```

### **5. ÏÑ±Îä• ÏµúÏ†ÅÌôî**

#### **5-1. ÌÖçÏä§Ìä∏ ÏïïÏ∂ï Î∞è Ï∫êÏã±**
```typescript
// ÌÖçÏä§Ìä∏ ÏïïÏ∂ï (ÏÑ†ÌÉùÏÇ¨Ìï≠)
const compressBibleText = (verses: VerseData[]): string => {
  const compressed = verses.map(verse => 
    `${verse.number}:${verse.text}`
  ).join('|');
  
  return btoa(compressed); // Base64 Ïù∏ÏΩîÎî©
};

// ÏïïÏ∂ï Ìï¥Ï†ú
const decompressBibleText = (compressed: string): VerseData[] => {
  const decoded = atob(compressed);
  return decoded.split('|').map(item => {
    const [number, text] = item.split(':');
    return {
      number: parseInt(number),
      text,
      reference: `Ï∞Ω 1:${number}` // ÎèôÏ†Å ÏÉùÏÑ± ÌïÑÏöî
    };
  });
};
```

#### **5-2. ÏßÄÏó∞ Î°úÎî©**
```typescript
// Íµ¨Ï†àÎ≥Ñ ÏßÄÏó∞ Î°úÎî©
const useLazyVerseLoading = (chapterId: string, verseRange: [number, number]) => {
  const [verses, setVerses] = useState<VerseData[]>([]);
  const [loading, setLoading] = useState(false);
  
  useEffect(() => {
    const loadVerses = async () => {
      setLoading(true);
      try {
        const response = await fetch(`/api/verses/${chapterId}?start=${verseRange[0]}&end=${verseRange[1]}`);
        const data = await response.json();
        setVerses(data);
      } catch (error) {
        console.error('Íµ¨Ï†à Î°úÎî© Ïã§Ìå®:', error);
      } finally {
        setLoading(false);
      }
    };
    
    loadVerses();
  }, [chapterId, verseRange]);
  
  return { verses, loading };
};
```

### **6. ÌÖçÏä§Ìä∏ ÏÜåÏä§ Í∂åÏû•ÏÇ¨Ìï≠**

#### **6-1. ÌÖçÏä§Ìä∏ ÌíàÏßà Í∏∞Ï§Ä**
- **Ï†ïÌôïÏÑ±**: ÏõêÎ¨∏Í≥ºÏùò ÏùºÏπòÎèÑ 99% Ïù¥ÏÉÅ
- **Í∞ÄÎèÖÏÑ±**: ÌòÑÎåÄ ÌïúÍµ≠Ïñ¥ Î¨∏Î≤ïÏóê ÎßûÎäî ÏûêÏó∞Ïä§Îü¨Ïö¥ ÌëúÌòÑ
- **ÏùºÍ¥ÄÏÑ±**: Ïö©Ïñ¥ÏôÄ Î≤àÏó≠ Ïä§ÌÉÄÏùºÏùò ÌÜµÏùºÏÑ±
- **ÏôÑÏ†ÑÏÑ±**: Î™®Îì† Íµ¨Ï†àÏù¥ ÎàÑÎùΩ ÏóÜÏù¥ Ìè¨Ìï®

#### **6-2. Í∏∞Ïà†Ï†Å ÏöîÍµ¨ÏÇ¨Ìï≠**
- **Ïù∏ÏΩîÎî©**: UTF-8 ÌïÑÏàò
- **ÌòïÏãù**: HTML ÎòêÎäî JSON ÌòïÌÉú
- **Íµ¨Ï°∞**: Íµ¨Ï†àÎ≥Ñ Î™ÖÌôïÌïú Íµ¨Î∂Ñ
- **Î©îÌÉÄÎç∞Ïù¥ÌÑ∞**: Ï±Ö, Ïû•, Î≤àÏó≠Î≥∏ Ï†ïÎ≥¥ Ìè¨Ìï®

#### **6-3. ÎùºÏù¥ÏÑ†Ïä§ Í≥†Î†§ÏÇ¨Ìï≠**
- **Í≥µÍ∞ú ÎèÑÎ©îÏù∏**: Í∞úÏó≠Í∞úÏ†ïÌåê, ÏÉàÎ≤àÏó≠ Îì±
- **ÏÉÅÏóÖÏ†Å ÏÇ¨Ïö©**: Ï∂úÌåêÏÇ¨Î≥Ñ ÎùºÏù¥ÏÑ†Ïä§ ÌôïÏù∏ ÌïÑÏöî
- **Ï†ÄÏûëÍ∂å**: Î≤àÏó≠Î≥∏Î≥Ñ Ï†ÄÏûëÍ∂å Ï†ïÎ≥¥ Î™ÖÏãú

---

## üèóÔ∏è **ÌéòÏù¥ÏßÄ ÏïÑÌÇ§ÌÖçÏ≤ò**