# ğŸ“‹ 02-ì„±ê²½ì½ê¸°-PRD.md

## ğŸ¯ **ë¬¸ì„œ ê°œìš”**

### **ë¬¸ì„œëª…**: ì„±ê²½ì½ê¸° í˜ì´ì§€ ìƒì„¸ ì„¤ê³„ì„œ
### **ë²„ì „**: v1.0.0
### **ì‘ì„±ì¼**: 2025.07.08
### **ìµœì¢… ìˆ˜ì •ì¼**: 2025.07.08
### **ì˜ì¡´ì„±**: 00-ì „ì²´ì•„í‚¤í…ì²˜-PRD.md, 05-ê³µí†µì‹œìŠ¤í…œ-PRD.md

---

## ğŸ“š **ê¸°ëŠ¥ ê°œìš”**

> **"ëª°ì…í˜• ì„±ê²½ ì½ê¸° ê²½í—˜ì„ ì œê³µí•˜ëŠ” ì°¨ì„¸ëŒ€ ë””ì§€í„¸ ì„±ê²½ í”Œë«í¼ì˜ í•µì‹¬ MVP"**

### **í•µì‹¬ ê°€ì¹˜ ì œì•ˆ**
- **Progressive Reading**: êµ¬ì•½â†’ì±…â†’ì¥ ë‹¨ê³„ë³„ ì„ íƒìœ¼ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ ì½ê¸° íë¦„
- **Multi-Modal Experience**: ì½ê¸°ì™€ ë“£ê¸°ë¥¼ ì™„ë²½í•˜ê²Œ í†µí•©í•œ ë©€í‹°ëª¨ë‹¬ ê²½í—˜
- **Personal Progress**: ê°œì¸í™”ëœ ì½ê¸° ì§„ë„ ì¶”ì ê³¼ ì™„ë£Œ ì²´í¬ ì‹œìŠ¤í…œ
- **Flexible Display**: 3ê°€ì§€ ì½ê¸° ëª¨ë“œë¡œ ê°œì¸ ì„ í˜¸ì— ë§ì¶˜ ìµœì í™”
- **Smart Highlights**: ê°œì¸/ì»¤ë®¤ë‹ˆí‹° í•˜ì´ë¼ì´íŠ¸ë¡œ í’ë¶€í•œ ë¬µìƒ ì§€ì›

---

## ğŸ—ï¸ **í˜ì´ì§€ ì•„í‚¤í…ì²˜**

### **ì „ì²´ ë ˆì´ì•„ì›ƒ êµ¬ì¡°**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š Progress Bar (ì½ê¸° ì§„í–‰ë¥  í‘œì‹œ)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚  ğŸ”— Breadcrumb (êµ¬ì•½ > ì°½ì„¸ê¸° > 1ì¥)    â”‚
â”‚  ğŸ“‹ Navigation  â”‚  ğŸ“– Chapter Title & Meta Info          â”‚
â”‚  Sidebar        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚  ğŸµ Audio Player Controls              â”‚
â”‚  ğŸ“– Books       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Chapters    â”‚  âš™ï¸ Reading Mode Controls              â”‚
â”‚  ğŸ“ˆ Progress    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚                                       â”‚
â”‚                 â”‚  ğŸ“œ Bible Content                     â”‚
â”‚                 â”‚  (Main Reading Area)                  â”‚
â”‚                 â”‚                                       â”‚
â”‚                 â”‚  âœ… Verse Interactions                â”‚
â”‚                 â”‚  (Highlights, Notes)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ì „ëµ**
```css
/* Desktop (1024px+) */
.bible-reading-layout {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 2rem;
  max-width: 1400px;
  margin: 0 auto;
}

/* Tablet (768px - 1023px) */
@media (max-width: 1023px) {
  .bible-reading-layout {
    grid-template-columns: 240px 1fr;
    gap: 1.5rem;
  }
}

/* Mobile (< 768px) */
@media (max-width: 767px) {
  .bible-reading-layout {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .navigation-sidebar {
    order: 2; /* ëª¨ë°”ì¼ì—ì„œëŠ” í•˜ë‹¨ìœ¼ë¡œ ì´ë™ */
    position: sticky;
    bottom: 0;
    background: var(--bg-secondary);
    border-top: 1px solid var(--border-primary);
  }
}
```

---

## ğŸ® **1. ë„¤ë¹„ê²Œì´ì…˜ ì‹œìŠ¤í…œ**

### **ì¢Œì¸¡ ì‚¬ì´ë“œë°” êµ¬ì„±**

#### **1-1. ì‹ /êµ¬ì•½ í† ê¸€ ìŠ¤ìœ„ì¹˜**
```typescript
interface TestamentToggleProps {
  activeTestament: 'old' | 'new';
  onToggle: (testament: 'old' | 'new') => void;
}

const TestamentToggle: React.FC<TestamentToggleProps> = ({
  activeTestament,
  onToggle
}) => {
  return (
    <div className="testament-toggle">
      <button 
        className={`toggle-btn ${activeTestament === 'old' ? 'active' : ''}`}
        onClick={() => onToggle('old')}
        aria-label="êµ¬ì•½ ì„±ê²½ ì„ íƒ"
      >
        êµ¬ì•½ (39ê¶Œ)
      </button>
      <button 
        className={`toggle-btn ${activeTestament === 'new' ? 'active' : ''}`}
        onClick={() => onToggle('new')}
        aria-label="ì‹ ì•½ ì„±ê²½ ì„ íƒ"
      >
        ì‹ ì•½ (27ê¶Œ)
      </button>
    </div>
  );
};
```

#### **1-2. ì„±ê²½ ì±… ì„ íƒ ì‹œìŠ¤í…œ**
```typescript
interface BibleBook {
  id: string;
  name: string;
  nameEnglish: string;
  abbreviation: string;
  totalChapters: number;
  category: 'old-testament' | 'new-testament';
  completedChapters: number;
  currentChapter?: number;
}

interface BookSelectorProps {
  testament: 'old' | 'new';
  books: BibleBook[];
  selectedBook?: BibleBook;
  onBookSelect: (book: BibleBook) => void;
}

const BookSelector: React.FC<BookSelectorProps> = ({
  testament,
  books,
  selectedBook,
  onBookSelect
}) => {
  const filteredBooks = books.filter(book => 
    book.category === `${testament}-testament`
  );

  return (
    <div className="book-selector">
      <h3 className="section-title">
        {testament === 'old' ? 'êµ¬ì•½ ì„±ê²½' : 'ì‹ ì•½ ì„±ê²½'}
      </h3>
      
      <div className="book-grid">
        {filteredBooks.map(book => {
          const completionRate = (book.completedChapters / book.totalChapters) * 100;
          
          return (
            <button
              key={book.id}
              className={`book-card ${selectedBook?.id === book.id ? 'selected' : ''}`}
              onClick={() => onBookSelect(book)}
              aria-label={`${book.name} ${book.totalChapters}ì¥`}
            >
              <div className="book-name">{book.name}</div>
              <div className="book-meta">{book.totalChapters}ì¥</div>
              <div className="book-progress">
                <div 
                  className="progress-bar"
                  style={{ width: `${completionRate}%` }}
                />
              </div>
              <div className="completion-badge">
                {book.completedChapters}/{book.totalChapters}
              </div>
            </button>
          );
        })}
      </div>
    </div>
  );
};
```

#### **1-3. ì¥(Chapter) ì„ íƒ ë„¤ë¹„ê²Œì´ì…˜**
```typescript
interface ChapterNavigatorProps {
  selectedBook: BibleBook;
  currentChapter: number;
  readingProgress: Record<number, {
    readingCompleted: boolean;
    listeningCompleted: boolean;
    completionPercentage: number;
  }>;
  onChapterSelect: (chapterNumber: number) => void;
}

const ChapterNavigator: React.FC<ChapterNavigatorProps> = ({
  selectedBook,
  currentChapter,
  readingProgress,
  onChapterSelect
}) => {
  const chapters = Array.from(
    { length: selectedBook.totalChapters }, 
    (_, i) => i + 1
  );

  return (
    <div className="chapter-navigator">
      <h4 className="navigator-title">
        ğŸ“– {selectedBook.name}
      </h4>
      
      <div className="chapter-grid">
        {chapters.map(chapterNum => {
          const progress = readingProgress[chapterNum];
          const isCompleted = progress?.readingCompleted || progress?.listeningCompleted;
          const isCurrent = chapterNum === currentChapter;
          
          return (
            <button
              key={chapterNum}
              className={`
                chapter-btn 
                ${isCurrent ? 'current' : ''} 
                ${isCompleted ? 'completed' : ''}
              `}
              onClick={() => onChapterSelect(chapterNum)}
              aria-label={`${chapterNum}ì¥ ${isCompleted ? 'ì™„ë£Œ' : 'ë¯¸ì™„ë£Œ'}`}
            >
              <span className="chapter-number">{chapterNum}</span>
              {isCompleted && (
                <div className="completion-indicator">
                  {progress.readingCompleted && <Icon name="book" size="xs" />}
                  {progress.listeningCompleted && <Icon name="volume" size="xs" />}
                </div>
              )}
              {progress?.completionPercentage && (
                <div 
                  className="progress-ring"
                  style={{ 
                    background: `conic-gradient(
                      var(--accent-primary) ${progress.completionPercentage * 3.6}deg,
                      var(--border-primary) 0deg
                    )`
                  }}
                />
              )}
            </button>
          );
        })}
      </div>
      
      {/* Quick Jump Controls */}
      <div className="quick-jump">
        <button 
          className="nav-btn"
          onClick={() => onChapterSelect(Math.max(1, currentChapter - 1))}
          disabled={currentChapter <= 1}
          aria-label="ì´ì „ ì¥"
        >
          <Icon name="chevronLeft" /> ì´ì „
        </button>
        <button 
          className="nav-btn"
          onClick={() => onChapterSelect(Math.min(selectedBook.totalChapters, currentChapter + 1))}
          disabled={currentChapter >= selectedBook.totalChapters}
          aria-label="ë‹¤ìŒ ì¥"
        >
          ë‹¤ìŒ <Icon name="chevronRight" />
        </button>
      </div>
    </div>
  );
};
```

#### **1-4. ê°œì¸ ì§„ë„ ëŒ€ì‹œë³´ë“œ**
```typescript
interface ProgressDashboardProps {
  dailyGoal: {
    readingMinutes: number;
    listeningMinutes: number;
  };
  todayProgress: {
    readingMinutes: number;
    listeningMinutes: number;
    chaptersCompleted: number;
    streak: number;
  };
  weeklyStats: {
    totalChapters: number;
    averageTime: number;
    favoriteBooks: string[];
  };
}

const ProgressDashboard: React.FC<ProgressDashboardProps> = ({
  dailyGoal,
  todayProgress,
  weeklyStats
}) => {
  const readingProgress = (todayProgress.readingMinutes / dailyGoal.readingMinutes) * 100;
  const listeningProgress = (todayProgress.listeningMinutes / dailyGoal.listeningMinutes) * 100;

  return (
    <div className="progress-dashboard">
      <h4 className="dashboard-title">ğŸ“Š ì˜¤ëŠ˜ì˜ ì§„ë„</h4>
      
      {/* Daily Goals */}
      <div className="daily-goals">
        <div className="goal-item">
          <div className="goal-header">
            <Icon name="bookOpen" size="sm" />
            <span>ì½ê¸°</span>
          </div>
          <div className="goal-progress">
            <div className="progress-bar">
              <div 
                className="progress-fill reading"
                style={{ width: `${Math.min(readingProgress, 100)}%` }}
              />
            </div>
            <span className="progress-text">
              {todayProgress.readingMinutes}ë¶„ / {dailyGoal.readingMinutes}ë¶„
            </span>
          </div>
        </div>
        
        <div className="goal-item">
          <div className="goal-header">
            <Icon name="volume" size="sm" />
            <span>ë“£ê¸°</span>
          </div>
          <div className="goal-progress">
            <div className="progress-bar">
              <div 
                className="progress-fill listening"
                style={{ width: `${Math.min(listeningProgress, 100)}%` }}
              />
            </div>
            <span className="progress-text">
              {todayProgress.listeningMinutes}ë¶„ / {dailyGoal.listeningMinutes}ë¶„
            </span>
          </div>
        </div>
      </div>
      
      {/* Statistics */}
      <div className="stats-grid">
        <div className="stat-item">
          <div className="stat-value">{todayProgress.chaptersCompleted}</div>
          <div className="stat-label">ì™„ë… ì¥</div>
        </div>
        <div className="stat-item">
          <div className="stat-value">ğŸ”¥ {todayProgress.streak}</div>
          <div className="stat-label">ì—°ì†ì¼</div>
        </div>
        <div className="stat-item">
          <div className="stat-value">{weeklyStats.totalChapters}</div>
          <div className="stat-label">ì£¼ê°„ ì™„ë…</div>
        </div>
      </div>
      
      {/* Achievements */}
      <div className="achievements">
        <h5>ğŸ† ì´ë²ˆ ì£¼ ì„±ê³¼</h5>
        <div className="achievement-list">
          {weeklyStats.favoriteBooks.map(book => (
            <div key={book} className="achievement-badge">
              ğŸ“– {book} ë§ˆìŠ¤í„°
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};
```

---

## ğŸµ **2. ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ (TTS í†µí•©)**

### **2-1. ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ ì»´í¬ë„ŒíŠ¸**
```typescript
interface AudioPlayerState {
  isPlaying: boolean;
  currentVerse: number;
  totalVerses: number;
  currentTime: number;
  totalTime: number;
  playbackRate: number;
  volume: number;
  isLoading: boolean;
}

interface AudioPlayerProps {
  verses: BibleVerse[];
  initialSettings: {
    voice: string;
    rate: number;
    pitch: number;
    volume: number;
  };
  onVerseChange: (verseIndex: number) => void;
  onProgressUpdate: (progress: number) => void;
}

const AudioPlayer: React.FC<AudioPlayerProps> = ({
  verses,
  initialSettings,
  onVerseChange,
  onProgressUpdate
}) => {
  const [playerState, setPlayerState] = useState<AudioPlayerState>({
    isPlaying: false,
    currentVerse: 0,
    totalVerses: verses.length,
    currentTime: 0,
    totalTime: 0,
    playbackRate: initialSettings.rate,
    volume: initialSettings.volume,
    isLoading: false
  });

  const { speak, stop, pause, resume, supported } = useSpeechSynthesis();

  const handlePlayPause = () => {
    if (playerState.isPlaying) {
      pause();
      setPlayerState(prev => ({ ...prev, isPlaying: false }));
    } else {
      const currentVerse = verses[playerState.currentVerse];
      speak({
        text: `${currentVerse.number}ì ˆ. ${currentVerse.text}`,
        voice: speechSynthesis.getVoices().find(v => v.name === initialSettings.voice),
        rate: playerState.playbackRate,
        pitch: initialSettings.pitch,
        volume: playerState.volume
      });
      setPlayerState(prev => ({ ...prev, isPlaying: true }));
    }
  };

  const handleNext = () => {
    const nextVerse = Math.min(playerState.currentVerse + 1, verses.length - 1);
    setPlayerState(prev => ({ ...prev, currentVerse: nextVerse }));
    onVerseChange(nextVerse);
  };

  const handlePrevious = () => {
    const prevVerse = Math.max(playerState.currentVerse - 1, 0);
    setPlayerState(prev => ({ ...prev, currentVerse: prevVerse }));
    onVerseChange(prevVerse);
  };

  return (
    <div className="audio-player">
      {/* Main Controls */}
      <div className="player-controls">
        <button 
          className="control-btn"
          onClick={handlePrevious}
          disabled={playerState.currentVerse === 0}
          aria-label="ì´ì „ êµ¬ì ˆ"
        >
          <Icon name="chevronLeft" />
        </button>
        
        <button 
          className="play-btn"
          onClick={handlePlayPause}
          disabled={!supported || playerState.isLoading}
          aria-label={playerState.isPlaying ? "ì¼ì‹œì •ì§€" : "ì¬ìƒ"}
        >
          {playerState.isLoading ? (
            <div className="loading-spinner" />
          ) : playerState.isPlaying ? (
            <Icon name="pause" />
          ) : (
            <Icon name="play" />
          )}
        </button>
        
        <button 
          className="control-btn"
          onClick={handleNext}
          disabled={playerState.currentVerse === verses.length - 1}
          aria-label="ë‹¤ìŒ êµ¬ì ˆ"
        >
          <Icon name="chevronRight" />
        </button>
      </div>
      
      {/* Progress Bar */}
      <div className="progress-section">
        <div className="progress-bar" role="progressbar">
          <div 
            className="progress-fill"
            style={{ 
              width: `${(playerState.currentVerse / verses.length) * 100}%` 
            }}
          />
        </div>
        <div className="progress-text">
          {playerState.currentVerse + 1} / {verses.length} êµ¬ì ˆ
        </div>
      </div>
      
      {/* Current Verse Indicator */}
      <div className="current-verse-info">
        <Icon name="volume" size="sm" />
        <span className="verse-text">
          {verses[playerState.currentVerse]?.number}ì ˆ: 
          {verses[playerState.currentVerse]?.text.substring(0, 30)}...
        </span>
      </div>
      
      {/* Advanced Controls */}
      <div className="advanced-controls">
        <div className="control-group">
          <label htmlFor="playback-rate">ì¬ìƒ ì†ë„</label>
          <select 
            id="playback-rate"
            value={playerState.playbackRate}
            onChange={(e) => setPlayerState(prev => ({ 
              ...prev, 
              playbackRate: parseFloat(e.target.value) 
            }))}
          >
            <option value={0.5}>0.5x</option>
            <option value={0.75}>0.75x</option>
            <option value={1.0}>1.0x</option>
            <option value={1.25}>1.25x</option>
            <option value={1.5}>1.5x</option>
          </select>
        </div>
        
        <div className="control-group">
          <label htmlFor="volume">ìŒëŸ‰</label>
          <input 
            id="volume"
            type="range"
            min="0"
            max="1"
            step="0.1"
            value={playerState.volume}
            onChange={(e) => setPlayerState(prev => ({ 
              ...prev, 
              volume: parseFloat(e.target.value) 
            }))}
          />
        </div>
        
        <button className="timer-btn">
          <Icon name="clock" size="sm" />
          ì·¨ì¹¨ íƒ€ì´ë¨¸
        </button>
      </div>
    </div>
  );
};
```

### **2-2. TTS ì„¤ì • ë° ìŒì„± ì„ íƒ**
```typescript
interface TTSSettings {
  voice: SpeechSynthesisVoice | null;
  rate: number; // 0.1 to 10
  pitch: number; // 0 to 2  
  volume: number; // 0 to 1
  autoAdvance: boolean;
  pauseBetweenVerses: number; // milliseconds
}

const TTSSettingsPanel: React.FC<{
  settings: TTSSettings;
  onChange: (settings: TTSSettings) => void;
}> = ({ settings, onChange }) => {
  const [voices, setVoices] = useState<SpeechSynthesisVoice[]>([]);
  
  useEffect(() => {
    const loadVoices = () => {
      const availableVoices = speechSynthesis.getVoices();
      const koreanVoices = availableVoices.filter(voice => 
        voice.lang.startsWith('ko') || 
        voice.name.includes('Korean') ||
        voice.name.includes('í•œêµ­')
      );
      setVoices(koreanVoices.length > 0 ? koreanVoices : availableVoices.slice(0, 5));
    };

    loadVoices();
    speechSynthesis.addEventListener('voiceschanged', loadVoices);
    
    return () => {
      speechSynthesis.removeEventListener('voiceschanged', loadVoices);
    };
  }, []);

  return (
    <div className="tts-settings-panel">
      <h4>ğŸµ ìŒì„± ì„¤ì •</h4>
      
      <div className="setting-group">
        <label htmlFor="voice-select">ìŒì„± ì„ íƒ</label>
        <select 
          id="voice-select"
          value={settings.voice?.name || ''}
          onChange={(e) => {
            const selectedVoice = voices.find(v => v.name === e.target.value);
            onChange({ ...settings, voice: selectedVoice || null });
          }}
        >
          <option value="">ê¸°ë³¸ ìŒì„±</option>
          {voices.map(voice => (
            <option key={voice.name} value={voice.name}>
              {voice.name} ({voice.lang})
            </option>
          ))}
        </select>
      </div>
      
      <div className="setting-group">
        <label htmlFor="rate-slider">
          ë§í•˜ê¸° ì†ë„: {settings.rate.toFixed(1)}x
        </label>
        <input 
          id="rate-slider"
          type="range"
          min="0.5"
          max="2.0"
          step="0.1"
          value={settings.rate}
          onChange={(e) => onChange({ 
            ...settings, 
            rate: parseFloat(e.target.value) 
          })}
        />
      </div>
      
      <div className="setting-group">
        <label htmlFor="pitch-slider">
          ìŒì¡°: {settings.pitch.toFixed(1)}
        </label>
        <input 
          id="pitch-slider"
          type="range"
          min="0.5"
          max="2.0"
          step="0.1"
          value={settings.pitch}
          onChange={(e) => onChange({ 
            ...settings, 
            pitch: parseFloat(e.target.value) 
          })}
        />
      </div>
      
      <div className="setting-group">
        <label>
          <input 
            type="checkbox"
            checked={settings.autoAdvance}
            onChange={(e) => onChange({ 
              ...settings, 
              autoAdvance: e.target.checked 
            })}
          />
          ìë™ìœ¼ë¡œ ë‹¤ìŒ êµ¬ì ˆ ì¬ìƒ
        </label>
      </div>
      
      {settings.autoAdvance && (
        <div className="setting-group">
          <label htmlFor="pause-duration">
            êµ¬ì ˆ ê°„ ë©ˆì¶¤: {settings.pauseBetweenVerses / 1000}ì´ˆ
          </label>
          <input 
            id="pause-duration"
            type="range"
            min="500"
            max="5000"
            step="500"
            value={settings.pauseBetweenVerses}
            onChange={(e) => onChange({ 
              ...settings, 
              pauseBetweenVerses: parseInt(e.target.value) 
            })}
          />
        </div>
      )}
    </div>
  );
};
```

---

## ğŸ“– **3. ë³¸ë¬¸ í‘œì‹œ ì‹œìŠ¤í…œ**

### **3-1. ì½ê¸° ëª¨ë“œ ì „í™˜ ì»¨íŠ¸ë¡¤**
```typescript
type ReadingMode = 'verse' | 'paragraph' | 'meditation';

interface ReadingModeControlsProps {
  currentMode: ReadingMode;
  onModeChange: (mode: ReadingMode) => void;
  fontSize: 'small' | 'medium' | 'large' | 'xl';
  onFontSizeChange: (size: 'small' | 'medium' | 'large' | 'xl') => void;
  theme: 'dark' | 'light';
  onThemeToggle: () => void;
}

const ReadingModeControls: React.FC<ReadingModeControlsProps> = ({
  currentMode,
  onModeChange,
  fontSize,
  onFontSizeChange,
  theme,
  onThemeToggle
}) => {
  const modeOptions = [
    { value: 'verse', label: 'êµ¬ì ˆë³„', icon: 'list', description: 'ê° êµ¬ì ˆì„ ë…ë¦½ì ìœ¼ë¡œ í‘œì‹œ' },
    { value: 'paragraph', label: 'ë¬¸ë‹¨í˜•', icon: 'fileText', description: 'ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ë‹¨ íë¦„' },
    { value: 'meditation', label: 'ë¬µìƒëª¨ë“œ', icon: 'heart', description: 'ì§‘ì¤‘ì ì¸ ì½ê¸°ë¥¼ ìœ„í•œ ë ˆì´ì•„ì›ƒ' }
  ] as const;

  const fontSizeOptions = [
    { value: 'small', label: 'ì‘ê²Œ' },
    { value: 'medium', label: 'ë³´í†µ' },
    { value: 'large', label: 'í¬ê²Œ' },
    { value: 'xl', label: 'ë§¤ìš°í¬ê²Œ' }
  ] as const;

  return (
    <div className="reading-mode-controls">
      {/* Reading Mode Selection */}
      <div className="control-group">
        <h4 className="control-label">ì½ê¸° ëª¨ë“œ</h4>
        <div className="mode-selector">
          {modeOptions.map(option => (
            <button
              key={option.value}
              className={`mode-btn ${currentMode === option.value ? 'active' : ''}`}
              onClick={() => onModeChange(option.value as ReadingMode)}
              title={option.description}
              aria-label={`${option.label} ëª¨ë“œë¡œ ë³€ê²½`}
            >
              <Icon name={option.icon} size="sm" />
              <span>{option.label}</span>
            </button>
          ))}
        </div>
      </div>
      
      {/* Font Size Control */}
      <div className="control-group">
        <h4 className="control-label">ê¸€ì í¬ê¸°</h4>
        <div className="font-size-selector">
          {fontSizeOptions.map(option => (
            <button
              key={option.value}
              className={`font-btn ${fontSize === option.value ? 'active' : ''}`}
              onClick={() => onFontSizeChange(option.value)}
              aria-label={`ê¸€ì í¬ê¸° ${option.label}ë¡œ ë³€ê²½`}
            >
              {option.label}
            </button>
          ))}
        </div>
      </div>
      
      {/* Additional Controls */}
      <div className="control-group">
        <h4 className="control-label">í™”ë©´ ì„¤ì •</h4>
        <div className="additional-controls">
          <button 
            className="control-btn"
            onClick={onThemeToggle}
            aria-label={`${theme === 'dark' ? 'ë¼ì´íŠ¸' : 'ë‹¤í¬'} ëª¨ë“œë¡œ ë³€ê²½`}
          >
            <Icon name={theme === 'dark' ? 'sun' : 'moon'} size="sm" />
            {theme === 'dark' ? 'ë¼ì´íŠ¸ëª¨ë“œ' : 'ë‹¤í¬ëª¨ë“œ'}
          </button>
          
          <button className="control-btn">
            <Icon name="maximize" size="sm" />
            ì „ì²´í™”ë©´
          </button>
          
          <button className="control-btn">
            <Icon name="bookmark" size="sm" />
            ì±…ê°ˆí”¼
          </button>
        </div>
      </div>
    </div>
  );
};
```

### **3-2. ì„±ê²½ ë³¸ë¬¸ ë Œë”ë§ ì»´í¬ë„ŒíŠ¸**
```typescript
interface BibleVerse {
  number: number;
  text: string;
  reference: string; // e.g., "ì°½ 1:1"
  isHighlighted?: boolean;
  highlightType?: 'personal' | 'community' | 'study';
  notes?: string[];
}

interface BibleContentProps {
  verses: BibleVerse[];
  readingMode: ReadingMode;
  fontSize: string;
  currentAudioVerse?: number;
  highlightMode: boolean;
  onVerseClick: (verseNumber: number) => void;
  onVerseHighlight: (verseNumber: number, type: 'personal' | 'community' | 'study') => void;
}

const BibleContent: React.FC<BibleContentProps> = ({
  verses,
  readingMode,
  fontSize,
  currentAudioVerse,
  highlightMode,
  onVerseClick,
  onVerseHighlight
}) => {
  const [selectedVerse, setSelectedVerse] = useState<number | null>(null);

  const handleVerseInteraction = (verseNumber: number) => {
    if (highlightMode) {
      onVerseHighlight(verseNumber, 'personal');
    } else {
      setSelectedVerse(verseNumber === selectedVerse ? null : verseNumber);
      onVerseClick(verseNumber);
    }
  };

  const renderVerse = (verse: BibleVerse, index: number) => {
    const isCurrentAudio = currentAudioVerse === verse.number;
    const isSelected = selectedVerse === verse.number;
    
    const verseClasses = `
      verse
      ${readingMode}-mode
      ${verse.isHighlighted ? `highlighted-${verse.highlightType}` : ''}
      ${isCurrentAudio ? 'current-audio' : ''}
      ${isSelected ? 'selected' : ''}
      ${fontSize}
    `;

    return (
      <div
        key={verse.number}
        className={verseClasses}
        data-verse={verse.number}
        onClick={() => handleVerseInteraction(verse.number)}
        role="button"
        tabIndex={0}
        aria-label={`${verse.number}ì ˆ: ${verse.text.substring(0, 50)}...`}
        onKeyDown={(e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            handleVerseInteraction(verse.number);
          }
        }}
      >
        {/* Verse Number */}
        <span className="verse-number" aria-label={`${verse.number}ì ˆ`}>
          {verse.number}
        </span>
        
        {/* Verse Text */}
        <span className="verse-text">
          {verse.text}
        </span>
        
        {/* Audio Playing Indicator */}
        {isCurrentAudio && (
          <div className="audio-indicator" aria-label="í˜„ì¬ ì¬ìƒ ì¤‘">
            <div className="audio-waves">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>
        )}
        
        {/* Highlight Indicator */}
        {verse.isHighlighted && (
          <div className={`highlight-indicator ${verse.highlightType}`}>
            <Icon 
              name={verse.highlightType === 'personal' ? 'heart' : 
                    verse.highlightType === 'community' ? 'users' : 'star'} 
              size="xs" 
            />
          </div>
        )}
        
        {/* Notes Indicator */}
        {verse.notes && verse.notes.length > 0 && (
          <div className="notes-indicator">
            <Icon name="messageCircle" size="xs" />
            <span className="notes-count">{verse.notes.length}</span>
          </div>
        )}
      </div>
    );
  };

  return (
    <div className={`bible-content ${readingMode}-layout`}>
      {/* Chapter Header */}
      <div className="chapter-header">
        <h1 className="chapter-title">
          {verses[0]?.reference.split(':')[0]} {/* e.g., "ì°½ì„¸ê¸° 1ì¥" */}
        </h1>
        <div className="chapter-meta">
          <span className="verse-count">{verses.length}ê°œ êµ¬ì ˆ</span>
          <span className="reading-time">ì˜ˆìƒ ì½ê¸° ì‹œê°„ {Math.ceil(verses.length / 3)}ë¶„</span>
        </div>
      </div>
      
      {/* Verses Container */}
      <div className="verses-container">
        {readingMode === 'meditation' ? (
          // Meditation Mode: One verse at a time
          <div className="meditation-container">
            {verses.map((verse, index) => (
              <div key={verse.number} className="meditation-verse-wrapper">
                {renderVerse(verse, index)}
                {index < verses.length - 1 && (
                  <div className="verse-divider">â¬¥</div>
                )}
              </div>
            ))}
          </div>
        ) : (
          // Normal and Paragraph Modes
          <div className="normal-verses-container">
            {verses.map((verse, index) => renderVerse(verse, index))}
          </div>
        )}
      </div>
      
      {/* Reading Progress Indicator */}
      <div className="reading-progress-indicator">
        <div className="progress-line">
          <div 
            className="progress-fill"
            style={{ 
              width: `${selectedVerse ? (selectedVerse / verses.length) * 100 : 0}%` 
            }}
          />
        </div>
        <span className="progress-text">
          {selectedVerse ? `${selectedVerse}/${verses.length} êµ¬ì ˆ` : 'ì½ê¸° ì‹œì‘'}
        </span>
      </div>
    </div>
  );
};
```

### **3-3. ì½ê¸° ëª¨ë“œë³„ ìŠ¤íƒ€ì¼ë§**
```css
/* Base Verse Styling */
.verse {
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  border-radius: 8px;
  border-left: 3px solid transparent;
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
}

.verse:hover {
  background: var(--hover-overlay);
  border-left-color: var(--accent-primary);
}

.verse-number {
  font-weight: 600;
  color: var(--accent-primary);
  font-size: 0.9em;
  min-width: 2rem;
  flex-shrink: 0;
}

.verse-text {
  flex: 1;
  line-height: 1.7;
}

/* Reading Mode Variations */

/* 1. Verse Mode (Default) */
.verse.verse-mode {
  display: flex;
  background: var(--bg-card);
  border: 1px solid var(--border-primary);
}

/* 2. Paragraph Mode */
.paragraph-layout .verse {
  display: inline;
  padding: 0;
  margin: 0;
  background: transparent;
  border: none;
}

.paragraph-layout .verse-number {
  font-size: 0.75em;
  vertical-align: super;
  margin-right: 0.25rem;
}

.paragraph-layout .verse-text {
  display: inline;
}

/* 3. Meditation Mode */
.meditation-verse-wrapper {
  margin: 3rem 0;
  text-align: center;
}

.verse.meditation-mode {
  flex-direction: column;
  align-items: center;
  padding: 2rem;
  background: var(--bg-card);
  border: 2px solid var(--border-primary);
  border-radius: 16px;
  max-width: 600px;
  margin: 0 auto;
}

.meditation-mode .verse-text {
  font-size: 1.25em;
  line-height: 2;
  text-align: center;
  font-weight: 400;
}

.verse-divider {
  text-align: center;
  font-size: 1.5rem;
  color: var(--text-muted);
  margin: 2rem 0;
}

/* Font Size Variations */
.verse.small .verse-text { font-size: 0.875rem; }
.verse.medium .verse-text { font-size: 1rem; }
.verse.large .verse-text { font-size: 1.125rem; }
.verse.xl .verse-text { font-size: 1.25rem; }

/* Highlight Styles */
.verse.highlighted-personal {
  background: var(--highlight-personal);
  border-left-color: var(--accent-primary);
}

.verse.highlighted-community {
  background: var(--highlight-community);
  border-left-color: var(--success);
}

.verse.highlighted-study {
  background: var(--highlight-study);
  border-left-color: #a855f7;
}

/* Current Audio Verse */
.verse.current-audio {
  background: var(--highlight-meditation);
  border-left-color: #eab308;
  box-shadow: 0 0 0 2px rgba(234, 179, 8, 0.3);
}

/* Audio Playing Animation */
.audio-indicator {
  position: absolute;
  right: 1rem;
  top: 50%;
  transform: translateY(-50%);
}

.audio-waves {
  display: flex;
  gap: 2px;
  align-items: end;
}

.audio-waves span {
  width: 2px;
  background: #eab308;
  animation: audioWave 1s ease-in-out infinite alternate;
}

.audio-waves span:nth-child(2) { animation-delay: 0.1s; }
.audio-waves span:nth-child(3) { animation-delay: 0.2s; }

@keyframes audioWave {
  from { height: 4px; }
  to { height: 12px; }
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .verse {
    padding: 0.5rem;
    gap: 0.5rem;
  }
  
  .meditation-mode {
    padding: 1.5rem;
    margin: 1rem;
  }
  
  .verse-divider {
    margin: 1rem 0;
  }
}
```

---

## âœ¨ **4. í•˜ì´ë¼ì´íŠ¸ ì‹œìŠ¤í…œ**

### **4-1. í•˜ì´ë¼ì´íŠ¸ ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸**
```typescript
interface Highlight {
  id: string;
  verseNumber: number;
  type: 'personal' | 'community' | 'study';
  color?: string;
  note?: string;
  createdAt: Date;
  userId?: string;
}

interface HighlightManagerProps {
  highlights: Highlight[];
  onAdd: (verseNumber: number, type: Highlight['type'], note?: string) => void;
  onRemove: (highlightId: string) => void;
  onUpdate: (highlightId: string, updates: Partial<Highlight>) => void;
}

const HighlightManager: React.FC<HighlightManagerProps> = ({
  highlights,
  onAdd,
  onRemove,
  onUpdate
}) => {
  const [activeMode, setActiveMode] = useState<Highlight['type'] | null>(null);
  const [showNoteDialog, setShowNoteDialog] = useState<number | null>(null);

  const highlightTypes = [
    { 
      type: 'personal', 
      label: 'ê°œì¸ í•˜ì´ë¼ì´íŠ¸', 
      icon: 'heart', 
      color: '#3b82f6',
      description: 'ê°œì¸ì ì¸ ë¬µìƒê³¼ ê¹¨ë‹¬ìŒ' 
    },
    { 
      type: 'community', 
      label: 'ì»¤ë®¤ë‹ˆí‹° í•˜ì´ë¼ì´íŠ¸', 
      icon: 'users', 
      color: '#10b981',
      description: 'ë§ì€ ì‚¬ìš©ìê°€ ì„ íƒí•œ êµ¬ì ˆ' 
    },
    { 
      type: 'study', 
      label: 'ì—°êµ¬ í•˜ì´ë¼ì´íŠ¸', 
      icon: 'star', 
      color: '#a855f7',
      description: 'í•™ìŠµê³¼ ì—°êµ¬ë¥¼ ìœ„í•œ í‘œì‹œ' 
    }
  ] as const;

  const getHighlightStats = () => {
    return highlightTypes.map(type => ({
      ...type,
      count: highlights.filter(h => h.type === type.type).length
    }));
  };

  return (
    <div className="highlight-manager">
      <div className="highlight-controls">
        <h4 className="controls-title">âœ¨ í•˜ì´ë¼ì´íŠ¸ ë„êµ¬</h4>
        
        {/* Mode Selector */}
        <div className="highlight-mode-selector">
          {highlightTypes.map(type => (
            <button
              key={type.type}
              className={`highlight-mode-btn ${activeMode === type.type ? 'active' : ''}`}
              onClick={() => setActiveMode(activeMode === type.type ? null : type.type)}
              style={{ '--highlight-color': type.color } as React.CSSProperties}
              title={type.description}
            >
              <Icon name={type.icon} size="sm" />
              <span>{type.label}</span>
              <span className="highlight-count">
                {highlights.filter(h => h.type === type.type).length}
              </span>
            </button>
          ))}
        </div>
        
        {/* Active Mode Indicator */}
        {activeMode && (
          <div className="active-mode-indicator">
            <Icon name="info" size="sm" />
            <span>
              {highlightTypes.find(t => t.type === activeMode)?.description}
            </span>
            <button 
              className="deactivate-btn"
              onClick={() => setActiveMode(null)}
            >
              í•´ì œ
            </button>
          </div>
        )}
      </div>
      
      {/* Highlight Statistics */}
      <div className="highlight-stats">
        <h5>ğŸ“Š í•˜ì´ë¼ì´íŠ¸ í˜„í™©</h5>
        <div className="stats-grid">
          {getHighlightStats().map(stat => (
            <div key={stat.type} className="stat-card">
              <div className="stat-icon" style={{ color: stat.color }}>
                <Icon name={stat.icon} size="sm" />
              </div>
              <div className="stat-info">
                <span className="stat-number">{stat.count}</span>
                <span className="stat-label">{stat.label}</span>
              </div>
            </div>
          ))}
        </div>
      </div>
      
      {/* Recent Highlights */}
      <div className="recent-highlights">
        <h5>ğŸ“ ìµœê·¼ í•˜ì´ë¼ì´íŠ¸</h5>
        <div className="highlights-list">
          {highlights
            .sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime())
            .slice(0, 5)
            .map(highlight => (
              <div key={highlight.id} className="highlight-item">
                <div className="highlight-info">
                  <span className="verse-ref">{highlight.verseNumber}ì ˆ</span>
                  <span className={`highlight-type ${highlight.type}`}>
                    <Icon 
                      name={highlightTypes.find(t => t.type === highlight.type)?.icon || 'star'} 
                      size="xs" 
                    />
                  </span>
                </div>
                {highlight.note && (
                  <p className="highlight-note">{highlight.note}</p>
                )}
                <div className="highlight-actions">
                  <button 
                    className="action-btn edit"
                    onClick={() => setShowNoteDialog(highlight.verseNumber)}
                  >
                    <Icon name="edit" size="xs" />
                  </button>
                  <button 
                    className="action-btn delete"
                    onClick={() => onRemove(highlight.id)}
                  >
                    <Icon name="trash2" size="xs" />
                  </button>
                </div>
              </div>
            ))}
        </div>
      </div>
      
      {/* Note Dialog */}
      {showNoteDialog && (
        <NoteDialog
          verseNumber={showNoteDialog}
          existingNote={highlights.find(h => h.verseNumber === showNoteDialog)?.note}
          onSave={(note) => {
            const existingHighlight = highlights.find(h => h.verseNumber === showNoteDialog);
            if (existingHighlight) {
              onUpdate(existingHighlight.id, { note });
            }
            setShowNoteDialog(null);
          }}
          onCancel={() => setShowNoteDialog(null)}
        />
      )}
    </div>
  );
};
```

### **4-2. ë…¸íŠ¸ ì‘ì„± ë‹¤ì´ì–¼ë¡œê·¸**
```typescript
interface NoteDialogProps {
  verseNumber: number;
  existingNote?: string;
  onSave: (note: string) => void;
  onCancel: () => void;
}

const NoteDialog: React.FC<NoteDialogProps> = ({
  verseNumber,
  existingNote = '',
  onSave,
  onCancel
}) => {
  const [note, setNote] = useState(existingNote);
  const [isSaving, setIsSaving] = useState(false);

  const handleSave = async () => {
    if (note.trim()) {
      setIsSaving(true);
      try {
        await onSave(note.trim());
      } finally {
        setIsSaving(false);
      }
    }
  };

  return (
    <Modal
      isOpen={true}
      onClose={onCancel}
      title={`${verseNumber}ì ˆ ë¬µìƒ ë…¸íŠ¸`}
      size="md"
    >
      <div className="note-dialog">
        <div className="note-input-section">
          <label htmlFor="note-textarea" className="sr-only">
            ë¬µìƒ ë…¸íŠ¸ ì‘ì„±
          </label>
          <textarea
            id="note-textarea"
            className="note-textarea"
            placeholder="ì´ êµ¬ì ˆì„ í†µí•´ ë°›ì€ ì€í˜œë‚˜ ê¹¨ë‹¬ìŒì„ ê¸°ë¡í•´ë³´ì„¸ìš”..."
            value={note}
            onChange={(e) => setNote(e.target.value)}
            rows={6}
            maxLength={500}
            autoFocus
          />
          <div className="character-count">
            {note.length}/500
          </div>
        </div>
        
        <div className="note-suggestions">
          <h6>ğŸ’¡ ë¬µìƒ ê°€ì´ë“œ</h6>
          <div className="suggestion-tags">
            <button 
              className="suggestion-tag"
              onClick={() => setNote(prev => `${prev}\n\nğŸ¯ ì ìš©ì : `)}
            >
              ì ìš©ì 
            </button>
            <button 
              className="suggestion-tag"
              onClick={() => setNote(prev => `${prev}\n\nğŸ™ ê¸°ë„ì œëª©: `)}
            >
              ê¸°ë„ì œëª©
            </button>
            <button 
              className="suggestion-tag"
              onClick={() => setNote(prev => `${prev}\n\nâ¤ï¸ ê°ì‚¬: `)}
            >
              ê°ì‚¬
            </button>
            <button 
              className="suggestion-tag"
              onClick={() => setNote(prev => `${prev}\n\nğŸ¤” ì§ˆë¬¸: `)}
            >
              ì§ˆë¬¸
            </button>
          </div>
        </div>
        
        <div className="dialog-actions">
          <Button 
            variant="ghost" 
            onClick={onCancel}
            disabled={isSaving}
          >
            ì·¨ì†Œ
          </Button>
          <Button 
            variant="primary" 
            onClick={handleSave}
            loading={isSaving}
            disabled={!note.trim()}
          >
            ì €ì¥
          </Button>
        </div>
      </div>
    </Modal>
  );
};
```

---

## ğŸ“Š **5. ì§„ë„ ì¶”ì  ì‹œìŠ¤í…œ**

### **5-1. ì½ê¸° ì§„ë„ ì¶”ì  ë¡œì§**
```typescript
interface ReadingSession {
  id: string;
  bookId: string;
  chapterNumber: number;
  startTime: Date;
  endTime?: Date;
  readingDuration: number; // seconds
  listeningDuration: number; // seconds
  completionPercentage: number; // 0-100
  scrollProgress: number; // 0-100
  versesRead: number[];
  mode: ReadingMode;
  completed: boolean;
}

const useReadingProgress = (bookId: string, chapterNumber: number) => {
  const [session, setSession] = useState<ReadingSession | null>(null);
  const [isTracking, setIsTracking] = useState(false);
  
  // Initialize session when component mounts
  useEffect(() => {
    const newSession: ReadingSession = {
      id: crypto.randomUUID(),
      bookId,
      chapterNumber,
      startTime: new Date(),
      readingDuration: 0,
      listeningDuration: 0,
      completionPercentage: 0,
      scrollProgress: 0,
      versesRead: [],
      mode: 'verse',
      completed: false
    };
    
    setSession(newSession);
    setIsTracking(true);
  }, [bookId, chapterNumber]);

  // Track scroll progress
  const updateScrollProgress = useCallback((scrollPercentage: number) => {
    if (session && isTracking) {
      setSession(prev => prev ? {
        ...prev,
        scrollProgress: Math.max(prev.scrollProgress, scrollPercentage),
        completionPercentage: Math.max(prev.completionPercentage, scrollPercentage * 0.8) // 80% weight for scroll
      } : null);
    }
  }, [session, isTracking]);

  // Track verse interaction
  const markVerseRead = useCallback((verseNumber: number) => {
    if (session && isTracking) {
      setSession(prev => {
        if (!prev) return null;
        
        const newVersesRead = prev.versesRead.includes(verseNumber) 
          ? prev.versesRead 
          : [...prev.versesRead, verseNumber];
          
        const readPercentage = (newVersesRead.length / totalVerses) * 100;
        
        return {
          ...prev,
          versesRead: newVersesRead,
          completionPercentage: Math.max(prev.completionPercentage, readPercentage)
        };
      });
    }
  }, [session, isTracking]);

  // Track reading time
  useEffect(() => {
    if (!isTracking || !session) return;

    const interval = setInterval(() => {
      setSession(prev => prev ? {
        ...prev,
        readingDuration: prev.readingDuration + 1
      } : null);
    }, 1000);

    return () => clearInterval(interval);
  }, [isTracking, session]);

  // Save session when unmounting or completing
  const completeSession = useCallback(async () => {
    if (session) {
      const completedSession = {
        ...session,
        endTime: new Date(),
        completed: session.completionPercentage >= 90 // 90% threshold for completion
      };
      
      // Save to Supabase
      await saveReadingSession(completedSession);
      setIsTracking(false);
    }
  }, [session]);

  return {
    session,
    updateScrollProgress,
    markVerseRead,
    completeSession,
    isTracking
  };
};
```

### **5-2. ì‹¤ì‹œê°„ ì§„ë„ í‘œì‹œ ì»´í¬ë„ŒíŠ¸**
```typescript
interface ProgressIndicatorProps {
  session: ReadingSession | null;
  totalVerses: number;
  currentVerse?: number;
}

const ProgressIndicator: React.FC<ProgressIndicatorProps> = ({
  session,
  totalVerses,
  currentVerse
}) => {
  const [isVisible, setIsVisible] = useState(true);
  
  if (!session) return null;

  const readingProgress = (session.versesRead.length / totalVerses) * 100;
  const timeProgress = Math.min((session.readingDuration / 600) * 100, 100); // 10ë¶„ ê¸°ì¤€
  const overallProgress = session.completionPercentage;

  return (
    <div className={`progress-indicator ${isVisible ? 'visible' : 'hidden'}`}>
      {/* Top Progress Bar */}
      <div className="top-progress-bar">
        <div 
          className="progress-fill"
          style={{ width: `${overallProgress}%` }}
        />
      </div>
      
      {/* Detailed Progress Panel */}
      <div className="progress-panel">
        <button 
          className="toggle-btn"
          onClick={() => setIsVisible(!isVisible)}
          aria-label={isVisible ? "ì§„ë„ íŒ¨ë„ ìˆ¨ê¸°ê¸°" : "ì§„ë„ íŒ¨ë„ ë³´ê¸°"}
        >
          <Icon name={isVisible ? "chevronUp" : "chevronDown"} size="sm" />
        </button>
        
        {isVisible && (
          <div className="progress-details">
            {/* Reading Stats */}
            <div className="progress-stat">
              <div className="stat-icon">ğŸ“–</div>
              <div className="stat-content">
                <div className="stat-label">ì½ì€ êµ¬ì ˆ</div>
                <div className="stat-value">
                  {session.versesRead.length} / {totalVerses}
                </div>
                <div className="stat-bar">
                  <div 
                    className="stat-fill reading"
                    style={{ width: `${readingProgress}%` }}
                  />
                </div>
              </div>
            </div>
            
            {/* Time Stats */}
            <div className="progress-stat">
              <div className="stat-icon">â±ï¸</div>
              <div className="stat-content">
                <div className="stat-label">ì½ê¸° ì‹œê°„</div>
                <div className="stat-value">
                  {Math.floor(session.readingDuration / 60)}ë¶„ {session.readingDuration % 60}ì´ˆ
                </div>
                <div className="stat-bar">
                  <div 
                    className="stat-fill time"
                    style={{ width: `${timeProgress}%` }}
                  />
                </div>
              </div>
            </div>
            
            {/* Audio Stats */}
            {session.listeningDuration > 0 && (
              <div className="progress-stat">
                <div className="stat-icon">ğŸµ</div>
                <div className="stat-content">
                  <div className="stat-label">ë“£ê¸° ì‹œê°„</div>
                  <div className="stat-value">
                    {Math.floor(session.listeningDuration / 60)}ë¶„ {session.listeningDuration % 60}ì´ˆ
                  </div>
                </div>
              </div>
            )}
            
            {/* Completion Prediction */}
            <div className="completion-prediction">
              {overallProgress >= 90 ? (
                <div className="completion-ready">
                  ğŸ‰ ì™„ë… ë‹¬ì„±! 
                  <button className="mark-complete-btn">
                    ì™„ë£Œ í‘œì‹œ
                  </button>
                </div>
              ) : (
                <div className="completion-progress">
                  ì™„ë…ê¹Œì§€ {100 - Math.round(overallProgress)}% ë‚¨ìŒ
                </div>
              )}
            </div>
          </div>
        )}
      </div>
    </div>
  );
};
```

### **5-3. ìŠ¤í¬ë¡¤ ê¸°ë°˜ ì§„ë„ ì¶”ì **
```typescript
const useScrollProgress = (onProgressUpdate: (progress: number) => void) => {
  const containerRef = useRef<HTMLDivElement>(null);
  const [progress, setProgress] = useState(0);

  useEffect(() => {
    const container = containerRef.current;
    if (!container) return;

    const handleScroll = throttle(() => {
      const { scrollTop, scrollHeight, clientHeight } = container;
      const maxScroll = scrollHeight - clientHeight;
      
      if (maxScroll <= 0) {
        setProgress(100);
        onProgressUpdate(100);
        return;
      }
      
      const scrollProgress = (scrollTop / maxScroll) * 100;
      const clampedProgress = Math.min(Math.max(scrollProgress, 0), 100);
      
      setProgress(clampedProgress);
      onProgressUpdate(clampedProgress);
    }, 100);

    container.addEventListener('scroll', handleScroll, { passive: true });
    
    return () => {
      container.removeEventListener('scroll', handleScroll);
    };
  }, [onProgressUpdate]);

  return { containerRef, progress };
};

// Throttle utility function
function throttle<T extends (...args: any[]) => any>(
  func: T,
  delay: number
): (...args: Parameters<T>) => void {
  let timeoutId: ReturnType<typeof setTimeout> | undefined;
  let lastExecTime = 0;
  
  return (...args: Parameters<T>) => {
    const currentTime = Date.now();
    
    if (currentTime - lastExecTime > delay) {
      func(...args);
      lastExecTime = currentTime;
    } else {
      clearTimeout(timeoutId);
      timeoutId = setTimeout(() => {
        func(...args);
        lastExecTime = Date.now();
      }, delay - (currentTime - lastExecTime));
    }
  };
}
```

---

## ğŸ“± **6. ë°˜ì‘í˜• ìµœì í™”**

### **6-1. ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜**
```typescript
const MobileNavigation: React.FC<{
  selectedBook: BibleBook;
  currentChapter: number;
  onBookChange: (book: BibleBook) => void;
  onChapterChange: (chapter: number) => void;
}> = ({ selectedBook, currentChapter, onBookChange, onChapterChange }) => {
  const [showBookSelector, setShowBookSelector] = useState(false);
  const [showChapterSelector, setShowChapterSelector] = useState(false);

  return (
    <div className="mobile-navigation">
      {/* Bottom Tab Bar */}
      <div className="mobile-tab-bar">
        <button 
          className="tab-btn"
          onClick={() => setShowBookSelector(true)}
        >
          <Icon name="book" size="sm" />
          <span>ì±… ì„ íƒ</span>
        </button>
        
        <button 
          className="tab-btn"
          onClick={() => setShowChapterSelector(true)}
        >
          <Icon name="list" size="sm" />
          <span>ì¥ ì„ íƒ</span>
        </button>
        
        <button className="tab-btn">
          <Icon name="bookmark" size="sm" />
          <span>ì±…ê°ˆí”¼</span>
        </button>
        
        <button className="tab-btn">
          <Icon name="heart" size="sm" />
          <span>í•˜ì´ë¼ì´íŠ¸</span>
        </button>
      </div>
      
      {/* Book Selector Modal */}
      <Modal
        isOpen={showBookSelector}
        onClose={() => setShowBookSelector(false)}
        title="ì„±ê²½ ì„ íƒ"
        size="full"
      >
        <MobileBookSelector 
          onSelect={(book) => {
            onBookChange(book);
            setShowBookSelector(false);
          }}
        />
      </Modal>
      
      {/* Chapter Selector Modal */}
      <Modal
        isOpen={showChapterSelector}
        onClose={() => setShowChapterSelector(false)}
        title={`${selectedBook.name} ì¥ ì„ íƒ`}
        size="lg"
      >
        <MobileChapterSelector 
          book={selectedBook}
          currentChapter={currentChapter}
          onSelect={(chapter) => {
            onChapterChange(chapter);
            setShowChapterSelector(false);
          }}
        />
      </Modal>
    </div>
  );
};
```

### **6-2. í„°ì¹˜ ì œìŠ¤ì²˜ ì§€ì›**
```typescript
const useTouchGestures = (
  onSwipeLeft: () => void,
  onSwipeRight: () => void,
  onDoubleTap: () => void
) => {
  const [touchStart, setTouchStart] = useState<TouchEvent['touches'][0] | null>(null);
  const [lastTap, setLastTap] = useState<number>(0);

  const handleTouchStart = (e: TouchEvent) => {
    setTouchStart(e.touches[0]);
  };

  const handleTouchEnd = (e: TouchEvent) => {
    if (!touchStart) return;

    const touchEnd = e.changedTouches[0];
    const deltaX = touchStart.clientX - touchEnd.clientX;
    const deltaY = touchStart.clientY - touchEnd.clientY;
    
    // Swipe detection (minimum 50px horizontal movement, less than 100px vertical)
    if (Math.abs(deltaX) > 50 && Math.abs(deltaY) < 100) {
      if (deltaX > 0) {
        onSwipeLeft(); // Next chapter
      } else {
        onSwipeRight(); // Previous chapter
      }
    }
    
    // Double tap detection
    const now = Date.now();
    if (now - lastTap < 300) {
      onDoubleTap();
    }
    setLastTap(now);
    
    setTouchStart(null);
  };

  return { handleTouchStart, handleTouchEnd };
};
```

---

## ğŸ’¾ **7. ë°ì´í„° ê´€ë¦¬ ë° API**

### **7-1. Supabase ì¿¼ë¦¬ í•¨ìˆ˜ë“¤**
```typescript
// api/bible.ts
export interface BibleChapterData {
  id: string;
  book_id: string;
  chapter_number: number;
  verses: BibleVerse[];
  metadata: {
    title: string;
    subtitle: string;
    estimated_reading_time: number;
    word_count: number;
  };
}

export const fetchBibleChapter = async (
  bookId: string, 
  chapterNumber: number
): Promise<BibleChapterData> => {
  const { data, error } = await supabase
    .from('b_bible_contents')
    .select(`
      *,
      bible_book:b_bible_books(*)
    `)
    .eq('bible_book_id', bookId)
    .eq('chapter_number', chapterNumber)
    .eq('status', 'published')
    .single();

  if (error) throw error;
  
  return {
    id: data.id,
    book_id: data.bible_book_id,
    chapter_number: data.chapter_number,
    verses: parseVersesFromContent(data.html_content),
    metadata: {
      title: data.title,
      subtitle: data.subtitle || '',
      estimated_reading_time: data.estimated_reading_time || 0,
      word_count: data.word_count || 0
    }
  };
};

export const saveReadingProgress = async (session: ReadingSession) => {
  const { error } = await supabase
    .from('b_reading_progress')
    .upsert({
      user_session: getUserSession(),
      bible_book_id: session.bookId,
      chapter_number: session.chapterNumber,
      reading_completed: session.completed,
      reading_duration: session.readingDuration,
      listening_duration: session.listeningDuration,
      reading_percentage: session.completionPercentage,
      completion_date: session.completed ? session.endTime : null,
      highlights: session.versesRead
    });

  if (error) throw error;
};

export const fetchReadingProgress = async (
  bookId: string
): Promise<Record<number, any>> => {
  const { data, error } = await supabase
    .from('b_reading_progress')
    .select('*')
    .eq('user_session', getUserSession())
    .eq('bible_book_id', bookId);

  if (error) throw error;
  
  return data.reduce((acc, item) => {
    acc[item.chapter_number] = {
      readingCompleted: item.reading_completed,
      listeningCompleted: item.listening_completed,
      completionPercentage: item.reading_percentage
    };
    return acc;
  }, {});
};
```

### **7-2. ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”**
```typescript
// hooks/useRealtimeProgress.ts
export const useRealtimeProgress = (bookId: string) => {
  const [progress, setProgress] = useState<Record<number, any>>({});

  useEffect(() => {
    // Initial data fetch
    fetchReadingProgress(bookId).then(setProgress);

    // Subscribe to real-time updates
    const subscription = supabase
      .channel(`progress:${bookId}`)
      .on(
        'postgres_changes',
        {
          event: '*',
          schema: 'public',
          table: 'b_reading_progress',
          filter: `bible_book_id=eq.${bookId}`
        },
        (payload) => {
          if (payload.eventType === 'INSERT' || payload.eventType === 'UPDATE') {
            setProgress(prev => ({
              ...prev,
              [payload.new.chapter_number]: {
                readingCompleted: payload.new.reading_completed,
                listeningCompleted: payload.new.listening_completed,
                completionPercentage: payload.new.reading_percentage
              }
            }));
          }
        }
      )
      .subscribe();

    return () => {
      subscription.unsubscribe();
    };
  }, [bookId]);

  return progress;
};
```

---

## âœ… **êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸**

### **ë„¤ë¹„ê²Œì´ì…˜ ì‹œìŠ¤í…œ**
- [ ] ì‹ /êµ¬ì•½ í† ê¸€ ìŠ¤ìœ„ì¹˜ êµ¬í˜„
- [ ] ì„±ê²½ ì±… ì¹´ë“œ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
- [ ] ì¥ë³„ ë„¤ë¹„ê²Œì´ì…˜ (ì™„ë£Œ ìƒíƒœ í‘œì‹œ)
- [ ] ê°œì¸ ì§„ë„ ëŒ€ì‹œë³´ë“œ êµ¬í˜„
- [ ] ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ ì ì‘

### **ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ**
- [ ] TTS ì—”ì§„ í†µí•© (Web Speech API)
- [ ] ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ ì»¨íŠ¸ë¡¤
- [ ] ìŒì„± ì„¤ì • íŒ¨ë„ êµ¬í˜„
- [ ] êµ¬ì ˆë³„ ìë™ ì¬ìƒ ê¸°ëŠ¥
- [ ] ì·¨ì¹¨ íƒ€ì´ë¨¸ ê¸°ëŠ¥

### **ë³¸ë¬¸ í‘œì‹œ ì‹œìŠ¤í…œ**
- [ ] 3ê°€ì§€ ì½ê¸° ëª¨ë“œ êµ¬í˜„
- [ ] ë°˜ì‘í˜• í°íŠ¸ í¬ê¸° ì¡°ì ˆ
- [ ] êµ¬ì ˆë³„ ìƒí˜¸ì‘ìš© ê¸°ëŠ¥
- [ ] í•˜ì´ë¼ì´íŠ¸ ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] ë…¸íŠ¸ ì‘ì„± ë‹¤ì´ì–¼ë¡œê·¸

### **ì§„ë„ ì¶”ì  ì‹œìŠ¤í…œ**
- [ ] ìŠ¤í¬ë¡¤ ê¸°ë°˜ ì§„ë„ ì¶”ì 
- [ ] ì½ê¸° ì‹œê°„ ì¸¡ì •
- [ ] ì™„ë£Œ ì²´í¬ ë¡œì§ êµ¬í˜„
- [ ] ì‹¤ì‹œê°„ ì§„ë„ í‘œì‹œ
- [ ] Supabase ë°ì´í„° ë™ê¸°í™”

### **ë°˜ì‘í˜• ìµœì í™”**
- [ ] ëª¨ë°”ì¼ í„°ì¹˜ ì œìŠ¤ì²˜ ì§€ì›
- [ ] íƒœë¸”ë¦¿ ë ˆì´ì•„ì›ƒ ìµœì í™”
- [ ] ì ‘ê·¼ì„± í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
- [ ] ì„±ëŠ¥ ìµœì í™” (lazy loading)

### **ë°ì´í„° ê´€ë¦¬**
- [ ] Supabase ì¿¼ë¦¬ í•¨ìˆ˜ êµ¬í˜„
- [ ] ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
- [ ] ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ë°±ì—…
- [ ] ì˜¤í”„ë¼ì¸ ëª¨ë“œ ì§€ì›

---

## ğŸ¯ **ë‹¤ìŒ ë‹¨ê³„**

ì„±ê²½ì½ê¸° í˜ì´ì§€ ì„¤ê³„ ì™„ë£Œ í›„ ë‹¤ìŒ ìˆœì„œë¡œ ì§„í–‰:

1. **04-ë°ì´í„°ê´€ë¦¬-PRD.md** - ê´€ë¦¬ì ë„êµ¬ ë° ì½˜í…ì¸  ê´€ë¦¬ ì‹œìŠ¤í…œ
2. **03-ì„±ê²½ìë£Œì‹¤-PRD.md** - HTML í¸ì§‘ê¸° ë° ìë£Œ ê´€ë¦¬ ê¸°ëŠ¥
3. **01-HOME-PRD.md** - í†µí•© ëŒ€ì‹œë³´ë“œ ë° ë¶„ì„ ê¸°ëŠ¥

---

**ğŸ“‹ ë¬¸ì„œ ìƒíƒœ**: âœ… **ì™„ë£Œ** - ì„±ê²½ì½ê¸° í˜ì´ì§€ ìƒì„¸ ì„¤ê³„ í™•ì •  
**ğŸ¯ í•µì‹¬ ê¸°ëŠ¥**: ì½ê¸°/ë“£ê¸°/ì§„ë„ì¶”ì  í†µí•© ì™„ì„±  
**ğŸ“± ì‚¬ìš©ì ê²½í—˜**: ëª°ì…í˜• ì„±ê²½ ì½ê¸° í™˜ê²½ êµ¬ì¶•  
**ğŸ“… ë‹¤ìŒ ë¦¬ë·°**: ë°ì´í„°ê´€ë¦¬ í˜ì´ì§€ PRD ì‘ì„± í›„